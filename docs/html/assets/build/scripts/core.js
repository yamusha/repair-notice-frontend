var e;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(b,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,o=t.slice,_=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},d=t.push,i=t.indexOf,r={},s=r.toString,m=r.hasOwnProperty,a=m.toString,c=a.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},k=b.document,l={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,i,s=(n=n||k).createElement("script");if(s.text=e,t)for(r in l)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&s.setAttribute(r,i);n.head.appendChild(s).parentNode.removeChild(s)}function p(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[s.call(e)]||"object":typeof e}var h="3.5.1",w=function(e,t){return new w.fn.init(e,t)};function u(e){var t=!!e&&"length"in e&&e.length,n=p(e);return!y(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:h,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=w.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return w.each(this,e)},map:function(n){return this.pushStack(w.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:t.sort,splice:t.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,s=arguments[0]||{},a=1,o=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===o&&(s=this,a--);a<o;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(d&&n&&(w.isPlainObject(n)||(r=Array.isArray(n)))?(i=s[t],i=r&&!Array.isArray(i)?[]:r||w.isPlainObject(i)?i:{},r=!1,s[t]=w.extend(d,i,n)):void 0!==n&&(s[t]=n));return s},w.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==s.call(e))&&(!(e=n(e))||"function"==typeof(e=m.call(e,"constructor")&&e.constructor)&&a.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(u(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(u(Object(e))?w.merge(t,"string"==typeof e?[e]:e):d.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,s=e.length,a=!n;i<s;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(u(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return _(a)},guid:1,support:v}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=t[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){r["[object "+t+"]"]=t.toLowerCase()});var f=function(n){function h(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function r(){b()}var e,f,x,s,i,p,u,g,j,d,c,b,k,a,w,_,o,l,m,C="sizzle"+ +new Date,v=n.document,T=0,y=0,A=de(),N=de(),S=de(),E=de(),O=function(e,t){return e===t&&(c=!0),0},D={}.hasOwnProperty,t=[],L=t.pop,q=t.push,P=t.push,H=t.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",$="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",B=new RegExp(I+"+","g"),K=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),z=new RegExp("^"+I+"*,"+I+"*"),X=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),U=new RegExp(I+"|>"),Y=new RegExp(W),J=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(t=H.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){P={apply:t.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(t,e,n,r){var i,s,a,o,d,c,l,h=e&&e.ownerDocument,u=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==u&&9!==u&&11!==u)return n;if(!r&&(b(e),e=e||k,w)){if(11!==u&&(d=te.exec(t)))if(i=d[1]){if(9===u){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&m(e,a)&&a.id===i)return n.push(a),n}else{if(d[2])return P.apply(n,e.getElementsByTagName(t)),n;if((i=d[3])&&f.getElementsByClassName&&e.getElementsByClassName)return P.apply(n,e.getElementsByClassName(i)),n}if(f.qsa&&!E[t+" "]&&(!_||!_.test(t))&&(1!==u||"object"!==e.nodeName.toLowerCase())){if(l=t,h=e,1===u&&(U.test(t)||X.test(t))){for((h=ne.test(t)&&ge(e.parentNode)||e)===e&&f.scope||((o=e.getAttribute("id"))?o=o.replace(ie,se):e.setAttribute("id",o=C)),s=(c=p(t)).length;s--;)c[s]=(o?"#"+o:":scope")+" "+me(c[s]);l=c.join(",")}try{return P.apply(n,h.querySelectorAll(l)),n}catch(e){E(t,!0)}finally{o===C&&e.removeAttribute("id")}}}return g(t.replace(K,"$1"),e,n,r)}function de(){var n=[];function r(e,t){return n.push(e+" ")>x.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function ce(e){return e[C]=!0,e}function le(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pe(a){return ce(function(s){return s=+s,ce(function(e,t){for(var n,r=a([],e.length,s),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=oe.support={},i=oe.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!G.test(t||e&&e.nodeName||"HTML")},b=oe.setDocument=function(e){var t,e=e?e.ownerDocument||e:v;return e!=k&&9===e.nodeType&&e.documentElement&&(a=(k=e).documentElement,w=!i(k),v!=k&&(t=k.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",r,!1):t.attachEvent&&t.attachEvent("onunload",r)),f.scope=le(function(e){return a.appendChild(e).appendChild(k.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=le(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(k.getElementsByClassName),f.getById=le(function(e){return a.appendChild(e).id=C,!k.getElementsByName||!k.getElementsByName(C).length}),f.getById?(x.filter.ID=function(e){var t=e.replace(re,h);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&w){e=t.getElementById(e);return e?[e]:[]}}):(x.filter.ID=function(e){var t=e.replace(re,h);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&w){var n,r,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),r=0;s=i[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),x.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"!==e)return s;for(;n=s[i++];)1===n.nodeType&&r.push(n);return r},x.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&w)return t.getElementsByClassName(e)},o=[],_=[],(f.qsa=ee.test(k.querySelectorAll))&&(le(function(e){var t;a.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+I+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+C+"-]").length||_.push("~="),(t=k.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||_.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||_.push(".#.+[+~]"),e.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(f.matchesSelector=ee.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&le(function(e){f.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),o.push("!=",W)}),_=_.length&&new RegExp(_.join("|")),o=o.length&&new RegExp(o.join("|")),t=ee.test(a.compareDocumentPosition),m=t||ee.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e==k||e.ownerDocument==v&&m(v,e)?-1:t==k||t.ownerDocument==v&&m(v,t)?1:d?F(d,e)-F(d,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!i||!s)return e==k?-1:t==k?1:i?-1:s?1:d?F(d,e)-F(d,t):0;if(i===s)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;a[r]===o[r];)r++;return r?ue(a[r],o[r]):a[r]==v?-1:o[r]==v?1:0}),k},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if(b(e),f.matchesSelector&&w&&!E[t+" "]&&(!o||!o.test(t))&&(!_||!_.test(t)))try{var n=l.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){E(t,!0)}return 0<oe(t,k,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!=k&&b(e),m(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!=k&&b(e);var n=x.attrHandle[t.toLowerCase()],n=n&&D.call(x.attrHandle,t.toLowerCase())?n(e,t,!w):void 0;return void 0!==n?n:f.attributes||!w?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},oe.escape=function(e){return(e+"").replace(ie,se)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!f.detectDuplicates,d=!f.sortStable&&e.slice(0),e.sort(O),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return d=null,e},s=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=s(t);return n},(x=oe.selectors={cacheLength:50,createPseudo:ce,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,h),e[3]=(e[3]||e[4]||e[5]||"").replace(re,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&A(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=oe.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(B," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,g,_){var m="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===g&&0===_?function(e){return!!e.parentNode}:function(e,t,n){var r,i,s,a,o,d,c=m!=v?"nextSibling":"previousSibling",l=e.parentNode,h=y&&e.nodeName.toLowerCase(),u=!n&&!y,f=!1;if(l){if(m){for(;c;){for(a=e;a=a[c];)if(y?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;d=c="only"===p&&!d&&"nextSibling"}return!0}if(d=[v?l.firstChild:l.lastChild],v&&u){for(f=(o=(r=(i=(s=(a=l)[C]||(a[C]={}))[a.uniqueID]||(s[a.uniqueID]={}))[p]||[])[0]===T&&r[1])&&r[2],a=o&&l.childNodes[o];a=++o&&a&&a[c]||(f=o=0)||d.pop();)if(1===a.nodeType&&++f&&a===e){i[p]=[T,o,f];break}}else if(u&&(f=o=(r=(i=(s=(a=e)[C]||(a[C]={}))[a.uniqueID]||(s[a.uniqueID]={}))[p]||[])[0]===T&&r[1]),!1===f)for(;(a=++o&&a&&a[c]||(f=o=0)||d.pop())&&((y?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++f||(u&&((i=(s=a[C]||(a[C]={}))[a.uniqueID]||(s[a.uniqueID]={}))[p]=[T,f]),a!==e)););return(f-=_)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,s){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[C]?a(s):1<a.length?(t=[e,e,"",s],x.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=a(e,s),i=r.length;i--;)e[n=F(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var r=[],i=[],o=u(e.replace(K,"$1"));return o[C]?ce(function(e,t,n,r){for(var i,s=o(e,null,r,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,o(r,null,n,i),r[0]=null,!i.pop()}}),has:ce(function(t){return function(e){return 0<oe(t,e).length}}),contains:ce(function(t){return t=t.replace(re,h),function(e){return-1<(e.textContent||s(e)).indexOf(t)}}),lang:ce(function(n){return J.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(re,h).toLowerCase(),function(e){var t;do{if(t=w?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function _e(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(a,e,t){var o=e.dir,d=e.next,c=d||o,l=t&&"parentNode"===c,h=y++;return e.first?function(e,t,n){for(;e=e[o];)if(1===e.nodeType||l)return a(e,t,n);return!1}:function(e,t,n){var r,i,s=[T,h];if(n){for(;e=e[o];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[o];)if(1===e.nodeType||l)if(r=(i=e[C]||(e[C]={}))[e.uniqueID]||(i[e.uniqueID]={}),d&&d===e.nodeName.toLowerCase())e=e[o]||e;else{if((i=r[c])&&i[0]===T&&i[1]===h)return s[2]=i[2];if((r[c]=s)[2]=a(e,t,n))return!0}return!1}}function ye(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function xe(e,t,n,r,i){for(var s,a=[],o=0,d=e.length,c=null!=t;o<d;o++)(s=e[o])&&(n&&!n(s,r,i)||(a.push(s),c&&t.push(o)));return a}function je(f,p,g,_,m,e){return _&&!_[C]&&(_=je(_)),m&&!m[C]&&(m=je(m,e)),ce(function(e,t,n,r){var i,s,a,o=[],d=[],c=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!e&&p?l:xe(l,o,f,n,r),u=g?m||(e?f:c||_)?[]:t:h;if(g&&g(h,u,n,r),_)for(i=xe(u,d),_(i,[],n,r),s=i.length;s--;)(a=i[s])&&(u[d[s]]=!(h[d[s]]=a));if(e){if(m||f){if(m){for(i=[],s=u.length;s--;)(a=u[s])&&i.push(h[s]=a);m(null,u=[],i,r)}for(s=u.length;s--;)(a=u[s])&&-1<(i=m?F(e,a):o[s])&&(e[i]=!(t[i]=a))}}else u=xe(u===t?u.splice(c,u.length):u),m?m(null,t,u,r):P.apply(t,u)})}function be(_,m){function e(e,t,n,r,i){var s,a,o,d=0,c="0",l=e&&[],h=[],u=j,f=e||y&&x.find.TAG("*",i),p=T+=null==u?1:Math.random()||.1,g=f.length;for(i&&(j=t==k||t||i);c!==g&&null!=(s=f[c]);c++){if(y&&s){for(a=0,t||s.ownerDocument==k||(b(s),n=!w);o=_[a++];)if(o(s,t||k,n)){r.push(s);break}i&&(T=p)}v&&((s=!o&&s)&&d--,e&&l.push(s))}if(d+=c,v&&c!==d){for(a=0;o=m[a++];)o(l,h,t,n);if(e){if(0<d)for(;c--;)l[c]||h[c]||(h[c]=L.call(r));h=xe(h)}P.apply(r,h),i&&!e&&0<h.length&&1<d+m.length&&oe.uniqueSort(r)}return i&&(T=p,j=u),l}var v=0<m.length,y=0<_.length;return v?ce(e):e}return _e.prototype=x.filters=x.pseudos,x.setFilters=new _e,p=oe.tokenize=function(e,t){var n,r,i,s,a,o,d,c=N[e+" "];if(c)return t?0:c.slice(0);for(a=e,o=[],d=x.preFilter;a;){for(s in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),o.push(i=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(K," ")}),a=a.slice(n.length)),x.filter)!(r=V[s].exec(a))||d[s]&&!(r=d[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):N(e,o).slice(0)},u=oe.compile=function(e,t){var n,r=[],i=[],s=S[e+" "];if(!s){for(n=(t=t||p(e)).length;n--;)((s=function e(t){for(var r,n,i,s=t.length,a=x.relative[t[0].type],o=a||x.relative[" "],d=a?1:0,c=ve(function(e){return e===r},o,!0),l=ve(function(e){return-1<F(r,e)},o,!0),h=[function(e,t,n){return n=!a&&(n||t!==j)||((r=t).nodeType?c:l)(e,t,n),r=null,n}];d<s;d++)if(n=x.relative[t[d].type])h=[ve(ye(h),n)];else{if((n=x.filter[t[d].type].apply(null,t[d].matches))[C]){for(i=++d;i<s&&!x.relative[t[i].type];i++);return je(1<d&&ye(h),1<d&&me(t.slice(0,d-1).concat({value:" "===t[d-2].type?"*":""})).replace(K,"$1"),n,d<i&&e(t.slice(d,i)),i<s&&e(t=t.slice(i)),i<s&&me(t))}h.push(n)}return ye(h)}(t[n]))[C]?r:i).push(s);(s=S(e,be(i,r))).selector=e}return s},g=oe.select=function(e,t,n,r){var i,s,a,o,d,c="function"==typeof e&&e,l=!r&&p(e=c.selector||e);if(n=n||[],1===l.length){if(2<(s=l[0]=l[0].slice(0)).length&&"ID"===(a=s[0]).type&&9===t.nodeType&&w&&x.relative[s[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(re,h),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=V.needsContext.test(e)?0:s.length;i--&&(a=s[i],!x.relative[o=a.type]);)if((d=x.find[o])&&(r=d(a.matches[0].replace(re,h),ne.test(s[0].type)&&ge(t.parentNode)||t))){if(s.splice(i,1),!(e=r.length&&me(s)))return P.apply(n,r),n;break}}return(c||u(e,l))(r,t,!w,n,!t||ne.test(e)&&ge(t.parentNode)||t),n},f.sortStable=C.split("").sort(O).join("")===C,f.detectDuplicates=!!c,b(),f.sortDetached=le(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||he(M,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),oe}(b);w.find=f,w.expr=f.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=f.uniqueSort,w.text=f.getText,w.isXMLDoc=f.isXML,w.contains=f.contains,w.escapeSelector=f.escape;function j(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r}function C(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var T=w.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function S(e,n,r){return y(n)?w.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?w.grep(e,function(e){return e===n!==r}):"string"!=typeof n?w.grep(e,function(e){return-1<i.call(n,e)!==r}):w.filter(n,e,r)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return 1<r?w.uniqueSort(n):n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&T.test(e)?w(e):e||[],!1).length}});var E,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){if(!e)return this;if(n=n||E,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:O.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),N.test(r[1])&&w.isPlainObject(t))for(var r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(e=k.getElementById(r[2]))&&(this[0]=e,this.length=1),this}).prototype=w.fn,E=w(k);var D=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function q(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],a="string"!=typeof e&&w(e);if(!T.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&w.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(1<s.length?w.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?i.call(w(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return j(e,"parentNode")},parentsUntil:function(e,t,n){return j(e,"parentNode",n)},next:function(e){return q(e,"nextSibling")},prev:function(e){return q(e,"previousSibling")},nextAll:function(e){return j(e,"nextSibling")},prevAll:function(e){return j(e,"previousSibling")},nextUntil:function(e,t,n){return j(e,"nextSibling",n)},prevUntil:function(e,t,n){return j(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(r,i){w.fn[r]=function(e,t){var n=w.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=w.filter(t,n)),1<this.length&&(L[r]||w.uniqueSort(n),D.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function H(e){return e}function F(e){throw e}function M(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},w.each(e.match(P)||[],function(e,t){n[t]=!0}),n):w.extend({},r);function i(){for(o=o||r.once,a=s=!0;c.length;l=-1)for(t=c.shift();++l<d.length;)!1===d[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=d.length,t=!1);r.memory||(t=!1),s=!1,o&&(d=t?[]:"")}var s,t,a,o,d=[],c=[],l=-1,h={add:function(){return d&&(t&&!s&&(l=d.length-1,c.push(t)),function n(e){w.each(e,function(e,t){y(t)?r.unique&&h.has(t)||d.push(t):t&&t.length&&"string"!==p(t)&&n(t)})}(arguments),t&&!s&&i()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;-1<(n=w.inArray(t,d,n));)d.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<w.inArray(e,d):0<d.length},empty:function(){return d=d&&[],this},disable:function(){return o=c=[],d=t="",this},disabled:function(){return!d},lock:function(){return o=c=[],t||s||(d=t=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),s||i()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},w.extend({Deferred:function(e){var s=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return w.Deferred(function(r){w.each(s,function(e,t){var n=y(i[t[4]])&&i[t[4]];o[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var d=0;function c(i,s,a,o){return function(){function e(){var e,t;if(!(i<d)){if((e=a.apply(n,r))===s.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?o?t.call(e,c(d,s,H,o),c(d,s,F,o)):(d++,t.call(e,c(d,s,H,o),c(d,s,F,o),c(d,s,H,s.notifyWith))):(a!==H&&(n=void 0,r=[e]),(o||s.resolveWith)(n,r))}}var n=this,r=arguments,t=o?e:function(){try{e()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,t.stackTrace),d<=i+1&&(a!==F&&(n=void 0,r=[e]),s.rejectWith(n,r))}};i?t():(w.Deferred.getStackHook&&(t.stackTrace=w.Deferred.getStackHook()),b.setTimeout(t))}}return w.Deferred(function(e){s[0][3].add(c(0,e,y(r)?r:H,e.notifyWith)),s[1][3].add(c(0,e,y(t)?t:H)),s[2][3].add(c(0,e,y(n)?n:F))}).promise()},promise:function(e){return null!=e?w.extend(e,a):a}},o={};return w.each(s,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},s[3-e][2].disable,s[3-e][3].disable,s[0][2].lock,s[0][3].lock),n.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=n.fireWith}),a.promise(o),e&&e.call(o,o),o},when:function(e){function t(t){return function(e){i[t]=this,s[t]=1<arguments.length?o.call(arguments):e,--n||a.resolveWith(i,s)}}var n=arguments.length,r=n,i=Array(r),s=o.call(arguments),a=w.Deferred();if(n<=1&&(M(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||y(s[r]&&s[r].then)))return a.then();for(;r--;)M(s[r],t(r),a.reject);return a.promise()}});var I=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){b.console&&b.console.warn&&e&&I.test(e.name)&&b.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){b.setTimeout(function(){throw e})};var R=w.Deferred();function $(){k.removeEventListener("DOMContentLoaded",$),b.removeEventListener("load",$),w.ready()}w.fn.ready=function(e){return R.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||R.resolveWith(k,[w])}}),w.ready.then=R.then,"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?b.setTimeout(w.ready):(k.addEventListener("DOMContentLoaded",$),b.addEventListener("load",$));var W=function(e,t,n,r,i,s,a){var o=0,d=e.length,c=null==n;if("object"===p(n))for(o in i=!0,n)W(e,t,o,n[o],!0,s,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),c&&(t=a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(w(e),n)})),t))for(;o<d;o++)t(e[o],n,a?r:r.call(e[o],o,t(e[o],n)));return i?e:c?t.call(e):d?t(e[0],n):s},B=/^-ms-/,K=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function X(e){return e.replace(B,"ms-").replace(K,z)}function U(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Y(){this.expando=w.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},U(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!w.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var J=new Y,V=new Y,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:G.test(i)?JSON.parse(i):i)}catch(e){}V.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return V.hasData(e)||J.hasData(e)},data:function(e,t,n){return V.access(e,t,n)},removeData:function(e,t){V.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(n,e){var t,r,i,s=this[0],a=s&&s.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){V.set(this,n)}):W(this,function(e){var t;return s&&void 0===e?void 0!==(t=V.get(s,n))||void 0!==(t=Z(s,n))?t:void 0:void this.each(function(){V.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=V.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(s,r,i[r]));J.set(s,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){V.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,function(){w.dequeue(e,t)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?w.queue(this[0],t):void 0===n?this:this.each(function(){var e=w.queue(this,t,n);w._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&w.dequeue(this,t)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||s.resolveWith(a,[a])}var r,i=1,s=w.Deferred(),a=this,o=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=J.get(a[o],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),s.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=k.documentElement,ie=function(e){return w.contains(e.ownerDocument,e)},se={composed:!0};re.getRootNode&&(ie=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===w.css(e,"display")};function oe(e,t,n,r){var i,s,a=20,o=r?function(){return r.cur()}:function(){return w.css(e,t,"")},d=o(),c=n&&n[3]||(w.cssNumber[t]?"":"px"),l=e.nodeType&&(w.cssNumber[t]||"px"!==c&&+d)&&te.exec(w.css(e,t));if(l&&l[3]!==c){for(d/=2,c=c||l[3],l=+d||1;a--;)w.style(e,t,l+c),(1-s)*(1-(s=o()/d||.5))<=0&&(a=0),l/=s;l*=2,w.style(e,t,l+c),n=n||[]}return n&&(l=+l||+d||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var de={};function ce(e,t){for(var n,r,i,s,a,o=[],d=0,c=e.length;d<c;d++)(r=e[d]).style&&(n=r.style.display,t?("none"===n&&(o[d]=J.get(r,"display")||null,o[d]||(r.style.display="")),""===r.style.display&&ae(r)&&(o[d]=(a=s=void 0,s=(i=r).ownerDocument,a=i.nodeName,(i=de[a])||(s=s.body.appendChild(s.createElement(a)),i=w.css(s,"display"),s.parentNode.removeChild(s),"none"===i&&(i="block"),de[a]=i)))):"none"!==n&&(o[d]="none",J.set(r,"display",n)));for(d=0;d<c;d++)null!=o[d]&&(e[d].style.display=o[d]);return e}w.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var le=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ue=/^$|^module$|\/(?:java|ecma)script/i;h=k.createDocumentFragment().appendChild(k.createElement("div")),(f=k.createElement("input")).setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),h.appendChild(f),v.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",v.option=!!h.lastChild;var fe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&A(e,t)?w.merge([e],n):n}function ge(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td,v.option||(fe.optgroup=fe.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function me(e,t,n,r,i){for(var s,a,o,d,c,l=t.createDocumentFragment(),h=[],u=0,f=e.length;u<f;u++)if((s=e[u])||0===s)if("object"===p(s))w.merge(h,s.nodeType?[s]:s);else if(_e.test(s)){for(a=a||l.appendChild(t.createElement("div")),o=(he.exec(s)||["",""])[1].toLowerCase(),o=fe[o]||fe._default,a.innerHTML=o[1]+w.htmlPrefilter(s)+o[2],c=o[0];c--;)a=a.lastChild;w.merge(h,a.childNodes),(a=l.firstChild).textContent=""}else h.push(t.createTextNode(s));for(l.textContent="",u=0;s=h[u++];)if(r&&-1<w.inArray(s,r))i&&i.push(s);else if(d=ie(s),a=pe(l.appendChild(s),"script"),d&&ge(a),n)for(c=0;s=a[c++];)ue.test(s.type||"")&&n.push(s);return l}var ve=/^key/,ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function je(){return!0}function be(){return!1}function ke(e,t){return e===function(){try{return k.activeElement}catch(e){}}()==("focus"===t)}function we(e,t,n,r,i,s){var a,o;if("object"==typeof t){for(o in"string"!=typeof n&&(r=r||n,n=void 0),t)we(e,o,n,r,t[o],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=be;else if(!i)return e;return 1===s&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}function Ce(e,i,s){s?(J.set(e,i,!1),w.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=J.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(w.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=o.call(arguments),J.set(this,i,r),t=s(this,i),this[i](),r!==(n=J.get(this,i))||t?J.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(J.set(this,i,{value:w.event.trigger(w.extend(r[0],w.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,i)&&w.event.add(e,i,je)}w.event={global:{},add:function(t,e,n,r,i){var s,a,o,d,c,l,h,u,f,p=J.get(t);if(U(t))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&w.find.matchesSelector(re,i),n.guid||(n.guid=w.guid++),(o=p.events)||(o=p.events=Object.create(null)),(a=p.handle)||(a=p.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),d=(e=(e||"").match(P)||[""]).length;d--;)h=f=(c=xe.exec(e[d])||[])[1],u=(c[2]||"").split(".").sort(),h&&(l=w.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=w.event.special[h]||{},c=w.extend({type:h,origType:f,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:u.join(".")},s),(f=o[h])||((f=o[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,r,u,a)||t.addEventListener&&t.addEventListener(h,a)),l.add&&(l.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[h]=!0)},remove:function(e,t,n,r,i){var s,a,o,d,c,l,h,u,f,p,g,_=J.hasData(e)&&J.get(e);if(_&&(d=_.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(f=g=(o=xe.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=w.event.special[f]||{},u=d[f=(r?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=u.length;s--;)l=u[s],!i&&g!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(u.splice(s,1),l.selector&&u.delegateCount--,h.remove&&h.remove.call(e,l));a&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,_.handle)||w.removeEvent(e,f,_.handle),delete d[f])}else for(f in d)w.event.remove(e,f+t[c],n,r,!0);w.isEmptyObject(d)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,s,a=new Array(arguments.length),o=w.event.fix(e),d=(J.get(this,"events")||Object.create(null))[o.type]||[],e=w.event.special[o.type]||{};for(a[0]=o,t=1;t<arguments.length;t++)a[t]=arguments[t];if(o.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,o)){for(s=w.event.handlers.call(this,o,d),t=0;(r=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!1!==i.namespace&&!o.rnamespace.test(i.namespace)||(o.handleObj=i,o.data=i.data,void 0!==(i=((w.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,r,i,s,a,o=[],d=t.delegateCount,c=e.target;if(d&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],a={},n=0;n<d;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<w(i,this).index(c):w.find(i,this,null,[c]).length),a[i]&&s.push(r);s.length&&o.push({elem:c,handlers:s})}return c=this,d<t.length&&o.push({elem:c,handlers:t.slice(d)}),o},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return le.test(e.type)&&e.click&&A(e,"input")&&Ce(e,"click",je),!1},trigger:function(e){e=this||e;return le.test(e.type)&&e.click&&A(e,"input")&&Ce(e,"click"),!0},_default:function(e){e=e.target;return le.test(e.type)&&e.click&&A(e,"input")&&J.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?je:be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=je,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=je,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=je,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ve.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ye.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Ce(this,e,ke),!1},trigger:function(){return Ce(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){w.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||w.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),w.fn.extend({on:function(e,t,n,r){return we(this,e,t,n,r)},one:function(e,t,n,r){return we(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=be),this.each(function(){w.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Te=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Ee(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function De(e,t){var n,r,i,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(i in J.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)w.event.add(t,i,s[i][n]);V.hasData(e)&&(e=V.access(e),e=w.extend({},e),V.set(t,e))}}function Le(n,r,i,s){r=_(r);var e,t,a,o,d,c,l=0,h=n.length,u=h-1,f=r[0],p=y(f);if(p||1<h&&"string"==typeof f&&!v.checkClone&&Ae.test(f))return n.each(function(e){var t=n.eq(e);p&&(r[0]=f.call(this,e,t.html())),Le(t,r,i,s)});if(h&&(t=(e=me(r,n[0].ownerDocument,!1,n,s)).firstChild,1===e.childNodes.length&&(e=t),t||s)){for(o=(a=w.map(pe(e,"script"),Ee)).length;l<h;l++)d=e,l!==u&&(d=w.clone(d,!0,!0),o&&w.merge(a,pe(d,"script"))),i.call(n[l],d,l);if(o)for(c=a[a.length-1].ownerDocument,w.map(a,Oe),l=0;l<o;l++)d=a[l],ue.test(d.type||"")&&!J.access(d,"globalEval")&&w.contains(c,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?w._evalUrl&&!d.noModule&&w._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")},c):x(d.textContent.replace(Ne,""),d,c))}return n}function qe(e,t,n){for(var r,i=t?w.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||w.cleanData(pe(r)),r.parentNode&&(n&&ie(r)&&ge(pe(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,s,a,o,d,c,l=e.cloneNode(!0),h=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=pe(l),r=0,i=(s=pe(e)).length;r<i;r++)o=s[r],d=a[r],c=void 0,"input"===(c=d.nodeName.toLowerCase())&&le.test(o.type)?d.checked=o.checked:"input"!==c&&"textarea"!==c||(d.defaultValue=o.defaultValue);if(t)if(n)for(s=s||pe(e),a=a||pe(l),r=0,i=s.length;r<i;r++)De(s[r],a[r]);else De(e,l);return 0<(a=pe(l,"script")).length&&ge(a,!h&&pe(e,"script")),l},cleanData:function(e){for(var t,n,r,i=w.event.special,s=0;void 0!==(n=e[s]);s++)if(U(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[V.expando]&&(n[V.expando]=void 0)}}}),w.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return W(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Le(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)})},prepend:function(){return Le(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Se(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!fe[(he.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Le(this,arguments,function(e){var t=this.parentNode;w.inArray(this,n)<0&&(w.cleanData(pe(this)),t&&t.replaceChild(e,this))},n)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){w.fn[e]=function(e){for(var t,n=[],r=w(e),i=r.length-1,s=0;s<=i;s++)t=s===i?this:this.clone(!0),w(r[s])[a](t),d.apply(n,t.get());return this.pushStack(n)}});function Pe(e,t,n){var r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=i[r];return n}var He,Fe,Me,Ie,Re,$e,We,Be,Ke=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=b),t.getComputedStyle(e)},Xe=new RegExp(ne.join("|"),"i");function Ue(){var e;Be&&(We.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Be.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(We).appendChild(Be),e=b.getComputedStyle(Be),He="1%"!==e.top,$e=12===Ye(e.marginLeft),Be.style.right="60%",Ie=36===Ye(e.right),Fe=36===Ye(e.width),Be.style.position="absolute",Me=12===Ye(Be.offsetWidth/3),re.removeChild(We),Be=null)}function Ye(e){return Math.round(parseFloat(e))}function Je(e,t,n){var r,i,s=e.style;return(n=n||ze(e))&&(""!==(i=n.getPropertyValue(t)||n[t])||ie(e)||(i=w.style(e,t)),!v.pixelBoxStyles()&&Ke.test(i)&&Xe.test(t)&&(r=s.width,e=s.minWidth,t=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=r,s.minWidth=e,s.maxWidth=t)),void 0!==i?i+"":i}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}We=k.createElement("div"),(Be=k.createElement("div")).style&&(Be.style.backgroundClip="content-box",Be.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Be.style.backgroundClip,w.extend(v,{boxSizingReliable:function(){return Ue(),Fe},pixelBoxStyles:function(){return Ue(),Ie},pixelPosition:function(){return Ue(),He},reliableMarginLeft:function(){return Ue(),$e},scrollboxSize:function(){return Ue(),Me},reliableTrDimensions:function(){var e,t,n;return null==Re&&(e=k.createElement("table"),n=k.createElement("tr"),t=k.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",t.style.height="9px",re.appendChild(e).appendChild(n).appendChild(t),n=b.getComputedStyle(n),Re=3<parseInt(n.height),re.removeChild(e)),Re}}));var Ge=["Webkit","Moz","ms"],Qe=k.createElement("div").style,Ze={};function et(e){var t=w.cssProps[e]||Ze[e];return t||(e in Qe?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Qe)return e}(e)||e)}var tt=/^(none|table(?!-c[ea]).+)/,nt=/^--/,rt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function at(e,t,n,r,i,s){var a="width"===t?1:0,o=0,d=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(d+=w.css(e,n+ne[a],!0,i)),r?("content"===n&&(d-=w.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(d-=w.css(e,"border"+ne[a]+"Width",!0,i))):(d+=w.css(e,"padding"+ne[a],!0,i),"padding"!==n?d+=w.css(e,"border"+ne[a]+"Width",!0,i):o+=w.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=s&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-d-o-.5))||0),d}function ot(e,t,n){var r=ze(e),i=(!v.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),s=i,a=Je(e,t,r),o="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===w.css(e,"boxSizing",!1,r),(s=o in e)&&(a=e[o])),(a=parseFloat(a)||0)+at(e,t,n||(i?"border":"content"),s,r,a)+"px"}function dt(e,t,n,r,i){return new dt.prototype.init(e,t,n,r,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Je(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,a,o=X(t),d=nt.test(t),c=e.style;if(d||(t=et(o)),a=w.cssHooks[t]||w.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(s=typeof n)&&(i=te.exec(n))&&i[1]&&(n=oe(e,t,i),s="number"),null!=n&&n==n&&("number"!==s||d||(n+=i&&i[3]||(w.cssNumber[o]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(d?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,s=X(t);return nt.test(t)||(t=et(s)),(s=w.cssHooks[t]||w.cssHooks[s])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Je(e,t,r)),"normal"===i&&t in it&&(i=it[t]),""===n||n?(t=parseFloat(i),!0===n||isFinite(t)?t||0:i):i}}),w.each(["height","width"],function(e,o){w.cssHooks[o]={get:function(e,t,n){if(t)return!tt.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,o,n):Pe(e,rt,function(){return ot(e,o,n)})},set:function(e,t,n){var r,i=ze(e),s=!v.scrollboxSize()&&"absolute"===i.position,a=(s||n)&&"border-box"===w.css(e,"boxSizing",!1,i),n=n?at(e,o,n,a,i):0;return a&&s&&(n-=Math.ceil(e["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(i[o])-at(e,o,"border",!1,i)-.5)),n&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[o]=t,t=w.css(e,o)),st(0,t,n)}}}),w.cssHooks.marginLeft=Ve(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Pe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(i,s){w.cssHooks[i+s]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+s]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(w.cssHooks[i+s].set=st)}),w.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,i,s={},a=0;if(Array.isArray(t)){for(r=ze(e),i=t.length;a<i;a++)s[t[a]]=w.css(e,t[a],!1,r);return s}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,1<arguments.length)}}),(w.Tween=dt).prototype={constructor:dt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=dt.propHooks[this.prop];return(e&&e.get?e:dt.propHooks._default).get(this)},run:function(e){var t,n=dt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:dt.propHooks._default).set(this),this}},dt.prototype.init.prototype=dt.prototype,dt.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=w.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[et(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},dt.propHooks.scrollTop=dt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=dt.prototype.init,w.fx.step={};var ct,lt,ht=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ft(){lt&&(!1===k.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(ft):b.setTimeout(ft,w.fx.interval),w.fx.tick())}function pt(){return b.setTimeout(function(){ct=void 0}),ct=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function _t(e,t,n){for(var r,i=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),s=0,a=i.length;s<a;s++)if(r=i[s].call(n,t,e))return r}function mt(i,e,t){var n,s,r=0,a=mt.prefilters.length,o=w.Deferred().always(function(){delete d.elem}),d=function(){if(s)return!1;for(var e=ct||pt(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,r=c.tweens.length;n<r;n++)c.tweens[n].run(t);return o.notifyWith(i,[c,t,e]),t<1&&r?e:(r||o.notifyWith(i,[c,1,0]),o.resolveWith(i,[c]),!1)},c=o.promise({elem:i,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},t),originalProperties:e,originalOptions:t,startTime:ct||pt(),duration:t.duration,tweens:[],createTween:function(e,t){e=w.Tween(i,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)c.tweens[t].run(1);return e?(o.notifyWith(i,[c,1,0]),o.resolveWith(i,[c,e])):o.rejectWith(i,[c,e]),this}}),l=c.props;for(!function(e,t){var n,r,i,s,a;for(n in e)if(i=t[r=X(n)],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in s=a.expand(s),delete e[r],s)n in e||(e[n]=s[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);r<a;r++)if(n=mt.prefilters[r].call(c,i,l,c.opts))return y(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(l,_t,c),y(c.opts.start)&&c.opts.start.call(i,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(d,{elem:i,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=y(e)?(t=e,["*"]):e.match(P)).length;r<i;r++)n=e[r],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,s,a,o,d,c,l="width"in t||"height"in t,h=this,u={},f=e.style,p=e.nodeType&&ae(e),g=J.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ht.test(i)){if(delete t[r],s=s||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}u[r]=g&&g[r]||w.style(e,r)}if((d=!w.isEmptyObject(t))||!w.isEmptyObject(u))for(r in l&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(l=w.css(e,"display"))&&(c?l=c:(ce([e],!0),c=e.style.display||c,l=w.css(e,"display"),ce([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===w.css(e,"float")&&(d||(h.done(function(){f.display=c}),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),d=!1,u)d||(g?"hidden"in g&&(p=g.hidden):g=J.access(e,"fxshow",{display:c}),s&&(g.hidden=!p),p&&ce([e],!0),h.done(function(){for(r in p||ce([e]),J.remove(e,"fxshow"),u)w.style(e,r,u[r])})),d=_t(p?g[r]:0,r,h),r in g||(g[r]=d.start,p&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=w.isEmptyObject(t),s=w.speed(e,n,r),r=function(){var e=mt(this,w.extend({},t),s);(i||J.get(this,"finish"))&&e.stop(!0)};return r.finish=r,i||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(i,e,s){function a(e){var t=e.stop;delete e.stop,t(s)}return"string"!=typeof i&&(s=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=w.timers,r=J.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||w.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=J.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=w.timers,s=n?n.length:0;for(t.finish=!0,w.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),w.each(["toggle","show","hide"],function(e,r){var i=w.fn[r];w.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),w.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){w.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(ct=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),ct=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){lt||(lt=!0,ft())},w.fx.stop=function(){lt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(r,e){return r=w.fx&&w.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=b.setTimeout(e,r);t.stop=function(){b.clearTimeout(n)}})},h=k.createElement("input"),ee=k.createElement("select").appendChild(k.createElement("option")),h.type="checkbox",v.checkOn=""!==h.value,v.optSelected=ee.selected,(h=k.createElement("input")).value="t",h.type="radio",v.radioValue="t"===h.value;var vt,yt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return W(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?w.prop(e,t,n):(1===s&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var a=yt[t]||w.find.attr;yt[t]=function(e,t,n){var r,i,s=t.toLowerCase();return n||(i=yt[s],yt[s]=r,r=null!=a(e,t,n)?s:null,yt[s]=i),r}});var xt=/^(?:input|select|textarea|button)$/i,jt=/^(?:a|area)$/i;function bt(e){return(e.match(P)||[]).join(" ")}function kt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}w.fn.extend({prop:function(e,t){return W(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(w.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,r,i,s,a,o=0;if(y(t))return this.each(function(e){w(this).addClass(t.call(this,e,kt(this)))});if((e=wt(t)).length)for(;n=this[o++];)if(a=kt(n),r=1===n.nodeType&&" "+bt(a)+" "){for(s=0;i=e[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(a=bt(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,s,a,o=0;if(y(t))return this.each(function(e){w(this).removeClass(t.call(this,e,kt(this)))});if(!arguments.length)return this.attr("class","");if((e=wt(t)).length)for(;n=this[o++];)if(a=kt(n),r=1===n.nodeType&&" "+bt(a)+" "){for(s=0;i=e[s++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a!==(a=bt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,t){var s=typeof i,a="string"==s||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):y(i)?this.each(function(e){w(this).toggleClass(i.call(this,e,kt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=w(this),r=wt(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=s||((e=kt(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&J.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+bt(kt(t))+" ").indexOf(r))return!0;return!1}});var Ct=/\r/g;w.fn.extend({val:function(t){var n,e,r,i=this[0];return arguments.length?(r=y(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,w(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=w.map(e,function(e){return null==e?"":e+""})),(n=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):i?(n=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(i,"value"))?e:"string"==typeof(e=i.value)?e.replace(Ct,""):null==e?"":e:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:bt(w.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,i="select-one"===e.type,s=i?null:[],a=i?r+1:n.length,o=r<0?a:i?r:0;o<a;o++)if(((t=n[o]).selected||o===r)&&!t.disabled&&(!t.parentNode.disabled||!A(t.parentNode,"optgroup"))){if(t=w(t).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,s=w.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<w.inArray(w.valHooks.option.get(r),s))&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},v.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in b;function Tt(e){e.stopPropagation()}var At=/^(?:focusinfocus|focusoutblur)$/;w.extend(w.event,{trigger:function(e,t,n,r){var i,s,a,o,d,c,l,h=[n||k],u=m.call(e,"type")?e.type:e,f=m.call(e,"namespace")?e.namespace.split("."):[],p=l=s=n=n||k;if(3!==n.nodeType&&8!==n.nodeType&&!At.test(u+w.event.triggered)&&(-1<u.indexOf(".")&&(u=(f=u.split(".")).shift(),f.sort()),o=u.indexOf(":")<0&&"on"+u,(e=e[w.expando]?e:new w.Event(u,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:w.makeArray(t,[e]),c=w.event.special[u]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!g(n)){for(a=c.delegateType||u,At.test(a+u)||(p=p.parentNode);p;p=p.parentNode)h.push(p),s=p;s===(n.ownerDocument||k)&&h.push(s.defaultView||s.parentWindow||b)}for(i=0;(p=h[i++])&&!e.isPropagationStopped();)l=p,e.type=1<i?a:c.bindType||u,(d=(J.get(p,"events")||Object.create(null))[e.type]&&J.get(p,"handle"))&&d.apply(p,t),(d=o&&p[o])&&d.apply&&U(p)&&(e.result=d.apply(p,t),!1===e.result&&e.preventDefault());return e.type=u,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),t)||!U(n)||o&&y(n[u])&&!g(n)&&((s=n[o])&&(n[o]=null),w.event.triggered=u,e.isPropagationStopped()&&l.addEventListener(u,Tt),n[u](),e.isPropagationStopped()&&l.removeEventListener(u,Tt),w.event.triggered=void 0,s&&(n[o]=s)),e.result}},simulate:function(e,t,n){e=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(e,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),v.focusin||w.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){w.event.simulate(r,e.target,w.event.fix(e))}w.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=J.access(e,r);t||e.addEventListener(n,i,!0),J.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=J.access(e,r)-1;t?J.access(e,r,t):(e.removeEventListener(n,i,!0),J.remove(e,r))}}});var Nt=b.location,St={guid:Date.now()},Et=/\?/;w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new b.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var Ot=/\[\]$/,Dt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,qt=/^(?:input|select|textarea|keygen)/i;w.param=function(e,t){function n(e,t){t=y(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,i,s){if(Array.isArray(e))w.each(e,function(e,t){i||Ot.test(r)?s(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,s)});else if(i||"object"!==p(e))s(r,e);else for(var t in e)n(r+"["+t+"]",e[t],i,s)}(r,e[r],t,n);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&qt.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!le.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Pt=/%20/g,Ht=/#.*$/,Ft=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Rt=/^\/\//,$t={},Wt={},Bt="*/".concat("*"),Kt=k.createElement("a");function zt(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(y(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(s[n]=s[n]||[]).unshift(t)):(s[n]=s[n]||[]).push(t)}}function Xt(t,r,i,s){var a={},o=t===Wt;function d(e){var n;return a[e]=!0,w.each(t[e]||[],function(e,t){t=t(r,i,s);return"string"!=typeof t||o||a[t]?o?!(n=t):void 0:(r.dataTypes.unshift(t),d(t),!1)}),n}return d(r.dataTypes[0])||!a["*"]&&d("*")}function Ut(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&w.extend(!0,e,r),e}Kt.href=Nt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,w.ajaxSettings),t):Ut(w.ajaxSettings,e)},ajaxPrefilter:zt($t),ajaxTransport:zt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var d,c,l,n,h,r,u,f,i,p=w.ajaxSetup({},t),g=p.context||p,_=p.context&&(g.nodeType||g.jquery)?w(g):w.event,m=w.Deferred(),v=w.Callbacks("once memory"),y=p.statusCode||{},s={},a={},o="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(u){if(!n)for(n={};t=Mt.exec(l);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?l:null},setRequestHeader:function(e,t){return null==u&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){if(e)if(u)x.always(e[x.status]);else for(var t in e)y[t]=[y[t],e[t]];return this},abort:function(e){e=e||o;return d&&d.abort(e),j(0,e),this}};if(m.promise(x),p.url=((e||p.url||Nt.href)+"").replace(Rt,Nt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(P)||[""],null==p.crossDomain){r=k.createElement("a");try{r.href=p.url,r.href=r.href,p.crossDomain=Kt.protocol+"//"+Kt.host!=r.protocol+"//"+r.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Xt($t,p,t,x),u)return x;for(i in(f=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),c=p.url.replace(Ht,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(e=p.url.slice(c.length),p.data&&(p.processData||"string"==typeof p.data)&&(c+=(Et.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(c=c.replace(Ft,"$1"),e=(Et.test(c)?"&":"?")+"_="+St.guid+++e),p.url=c+e),p.ifModified&&(w.lastModified[c]&&x.setRequestHeader("If-Modified-Since",w.lastModified[c]),w.etag[c]&&x.setRequestHeader("If-None-Match",w.etag[c])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(g,x,p)||u))return x.abort();if(o="abort",v.add(p.complete),x.done(p.success),x.fail(p.error),d=Xt(Wt,p,t,x)){if(x.readyState=1,f&&_.trigger("ajaxSend",[x,p]),u)return x;p.async&&0<p.timeout&&(h=b.setTimeout(function(){x.abort("timeout")},p.timeout));try{u=!1,d.send(s,j)}catch(e){if(u)throw e;j(-1,e)}}else j(-1,"No Transport");function j(e,t,n,r){var i,s,a,o=t;u||(u=!0,h&&b.clearTimeout(h),d=void 0,l=r||"",x.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var r,i,s,a,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){d.unshift(i);break}if(d[0]in n)s=d[0];else{for(i in n){if(!d[0]||e.converters[i+" "+d[0]]){s=i;break}a=a||i}s=s||a}if(s)return s!==d[0]&&d.unshift(s),n[s]}(p,x,n)),!r&&-1<w.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),a=function(e,t,n,r){var i,s,a,o,d,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=l.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!d&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=s,s=l.shift())if("*"===s)s=d;else if("*"!==d&&d!==s){if(!(a=c[d+" "+s]||c["* "+s]))for(i in c)if(o=i.split(" "),o[1]===s&&(a=c[d+" "+o[0]]||c["* "+o[0]])){!0===a?a=c[i]:!0!==c[i]&&(s=o[0],l.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+d+" to "+s}}}return{state:"success",data:t}}(p,a,x,r),r?(p.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(w.lastModified[c]=n),(n=x.getResponseHeader("etag"))&&(w.etag[c]=n)),204===e||"HEAD"===p.type?o="nocontent":304===e?o="notmodified":(o=a.state,i=a.data,r=!(s=a.error))):(s=o,!e&&o||(o="error",e<0&&(e=0))),x.status=e,x.statusText=(t||o)+"",r?m.resolveWith(g,[i,o,x]):m.rejectWith(g,[x,o,s]),x.statusCode(y),y=void 0,f&&_.trigger(r?"ajaxSuccess":"ajaxError",[x,p,r?i:s]),v.fireWith(g,[x,o]),f&&(_.trigger("ajaxComplete",[x,p]),--w.active||w.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,i){w[i]=function(e,t,n,r){return y(t)&&(r=r||n,n=t,t=void 0),w.ajax(w.extend({url:e,type:i,dataType:r,data:t,success:n},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){return this[0]&&(y(e)&&(e=e.call(this[0])),e=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){w(this).wrapInner(n.call(this,e))}):this.each(function(){var e=w(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){w(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Jt=w.ajaxSettings.xhr();v.cors=!!Jt&&"withCredentials"in Jt,v.ajax=Jt=!!Jt,w.ajaxTransport(function(i){var s,a;if(v.cors||Jt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);s=function(e){return function(){s&&(s=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=s(),a=r.onerror=r.ontimeout=s("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&b.setTimeout(function(){s&&a()})},s=s("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(s)throw e}},abort:function(){s&&s()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=w("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),k.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt=[],Gt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||w.expando+"_"+St.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,a=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Gt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||w.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=b[r],b[r]=function(){s=arguments},n.always(function(){void 0===i?w(b).removeProp(r):b[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(r)),s&&y(i)&&i(s[0]),s=i=void 0}),"script"}),v.createHTMLDocument=((h=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===h.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,t.head.appendChild(r)):t=k),r=!n&&[],(n=N.exec(e))?[t.createElement(n[1])]:(n=me([e],t,r),r&&r.length&&w(r).remove(),w.merge([],n.childNodes)));var r},w.fn.load=function(e,t,n){var r,i,s,a=this,o=e.indexOf(" ");return-1<o&&(r=bt(e.slice(o)),e=e.slice(0,o)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,s,a,o=w.css(e,"position"),d=w(e),c={};"static"===o&&(e.style.position="relative"),s=d.offset(),r=w.css(e,"top"),a=w.css(e,"left"),a=("absolute"===o||"fixed"===o)&&-1<(r+a).indexOf("auto")?(i=(o=d.position()).top,o.left):(i=parseFloat(r)||0,parseFloat(a)||0),y(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(c.top=t.top-s.top+i),null!=t.left&&(c.left=t.left-s.left+a),"using"in t?t.using.call(e,c):("number"==typeof c.top&&(c.top+="px"),"number"==typeof c.left&&(c.left+="px"),d.css(c))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||re})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var s="pageYOffset"===i;w.fn[t]=function(e){return W(this,function(e,t,n){var r;return g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(s?r.pageXOffset:n,s?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),w.each(["top","left"],function(e,n){w.cssHooks[n]=Ve(v.pixelPosition,function(e,t){if(t)return t=Je(e,n),Ke.test(t)?w(e).position()[n]+"px":t})}),w.each({Height:"height",Width:"width"},function(a,o){w.each({padding:"inner"+a,content:o,"":"outer"+a},function(r,s){w.fn[s]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var r;return g(e)?0===s.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?w.css(e,t,i):w.style(e,t,n,i)},o,n?e:void 0,n)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){w.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),y(e))return n=o.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(o.call(arguments)))}).guid=e.guid=e.guid||w.guid++,r},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=A,w.isFunction=y,w.isWindow=g,w.camelCase=X,w.type=p,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Zt=b.jQuery,en=b.$;return w.noConflict=function(e){return b.$===w&&(b.$=en),e&&b.jQuery===w&&(b.jQuery=Zt),w},void 0===e&&(b.jQuery=b.$=w),w}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(O,D){"use strict";if(!O.jstree){var i=0,s=!1,a=!1,o=!1,n=[],e=O("script:last").attr("src"),x=window.document,c=window.setImmediate,r=window.Promise;!c&&r&&(c=function(e,t){r.resolve(t).then(e)}),O.jstree={version:"3.3.10",defaults:{plugins:[]},plugins:{},path:e&&-1!==e.indexOf("/")?e.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},O.jstree.create=function(e,n){var r=new O.jstree.core(++i),t=n;return n=O.extend(!0,{},O.jstree.defaults,n),t&&t.plugins&&(n.plugins=t.plugins),O.each(n.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,n[t]))}),O(e).data("jstree",r),r.init(e,n),r},O.jstree.destroy=function(){O(".jstree:jstree").jstree("destroy"),O(x).off(".jstree")},O.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},O.jstree.reference=function(t){var n=null,e=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!e||!e.length)try{e=O(t)}catch(e){}if(!e||!e.length)try{e=O("#"+t.replace(O.jstree.idregex,"\\$&"))}catch(e){}return e&&e.length&&(e=e.closest(".jstree")).length&&(e=e.data("jstree"))?n=e:O(".jstree").each(function(){var e=O(this).data("jstree");if(e&&e._model.data[t])return n=e,!1}),n},O.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),s=null;return!(!0===n&&!this.length)&&(this.each(function(){var e=O.jstree.reference(this),t=r&&e?e[n]:null;if(s=r&&t?t.apply(e,i):null,e||r||n!==D&&!O.isPlainObject(n)||O.jstree.create(this,n),(e&&!r||!0===n)&&(s=e||!1),null!==s&&s!==D)return!1}),null!==s&&s!==D?s:this)},O.expr.pseudos.jstree=O.expr.createPseudo(function(e){return function(e){return O(e).hasClass("jstree")&&O(e).data("jstree")!==D}}),O.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:O.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(e){e.type="click",O(e.currentTarget).trigger(e)},enter:function(e){e.type="click",O(e.currentTarget).trigger(e)},left:function(e){e.preventDefault(),this.is_open(e.currentTarget)?this.close_node(e.currentTarget):(e=this.get_parent(e.currentTarget))&&e.id!==O.jstree.root&&this.get_node(e,!0).children(".jstree-anchor").focus()},up:function(e){e.preventDefault();e=this.get_prev_dom(e.currentTarget);e&&e.length&&e.children(".jstree-anchor").focus()},right:function(e){e.preventDefault(),this.is_closed(e.currentTarget)?this.open_node(e.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):!this.is_open(e.currentTarget)||(e=this.get_node(e.currentTarget,!0).children(".jstree-children")[0])&&O(this._firstChild(e)).children(".jstree-anchor").focus()},down:function(e){e.preventDefault();e=this.get_next_dom(e.currentTarget);e&&e.length&&e.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(e){e.preventDefault();e=this._firstChild(this.get_container_ul()[0]);e&&O(e).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},O.jstree.core.prototype={plugin:function(e,t){var n=O.jstree.plugins[e];return n?(this._data[e]={},n.prototype=this,new n(t,this)):this},init:function(e,t){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[O.jstree.root]={id:O.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=O(e).addClass("jstree jstree-"+this._id),this.settings=t,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='presentation'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(O.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=x.createElement("LI");return n.setAttribute("role","presentation"),(e=x.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=x.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),e.setAttribute("role","treeitem"),(t=x.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];if(e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),"shift-shift"===(t=t.sort().join("-").toLowerCase())||"ctrl-ctrl"===t||"alt-alt"===t)return null;var n,r,i=this.settings.core.keyboard;for(n in i)if(i.hasOwnProperty(n)&&("-"!==(r=n)&&"+"!==r&&(r=(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),r===t))return i[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var i="",s=null,t=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(x.selection&&x.selection.empty)x.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",O.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),t=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",O.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",O.proxy(function(e){return!(!e.target.tagName||"input"!==e.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",O.proxy(function(e){e.preventDefault(),e.currentTarget!==x.activeElement&&O(e.currentTarget).focus(),this.activate_node(e.currentTarget,e)},this)).on("keydown.jstree",".jstree-anchor",O.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){e=t.call(this,e);if(!1===e||!0===e)return e}},this)).on("load_node.jstree",O.proxy(function(e,t){t.status&&(t.node.id!==O.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(O.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var e=[],t=0,n=this._data.core.selected.length;t<n;t++)e=e.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(e=O.vakata.array_unique(e)).length;t<n;t++)this.open_node(e[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",O.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;s&&clearTimeout(s),s=setTimeout(function(){i=""},500);var n=String.fromCharCode(e.which).toLowerCase(),t=this.element.find(".jstree-anchor").filter(":visible"),e=t.index(x.activeElement)||0,r=!1;if(1<(i+=n).length){if(t.slice(e).each(O.proxy(function(e,t){if(0===O(t).text().toLowerCase().indexOf(i))return O(t).focus(),!(r=!0)},this)),r)return;if(t.slice(0,e).each(O.proxy(function(e,t){if(0===O(t).text().toLowerCase().indexOf(i))return O(t).focus(),!(r=!0)},this)),r)return}new RegExp("^"+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(i)&&(t.slice(e+1).each(O.proxy(function(e,t){if(O(t).text().toLowerCase().charAt(0)===n)return O(t).focus(),!(r=!0)},this)),r||t.slice(0,e+1).each(O.proxy(function(e,t){if(O(t).text().toLowerCase().charAt(0)===n)return O(t).focus(),!(r=!0)},this)))},this)).on("init.jstree",O.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",O.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",O.proxy(function(e){this._data.core.focused=null,O(e.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",O.proxy(function(e){var t=this.get_node(e.currentTarget);t&&t.id&&(this._data.core.focused=t.id),this.element.find(".jstree-hovered").not(e.currentTarget).trigger("mouseleave"),O(e.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")},this)).on("focus.jstree",O.proxy(function(){var e;500<+new Date-t&&!this._data.core.focused&&this.settings.core.restore_focus&&(t=0,(e=this.get_node(this.element.attr("aria-activedescendant"),!0))&&e.find("> .jstree-anchor").focus())},this)).on("mouseenter.jstree",".jstree-anchor",O.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",O.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),O(x).off(".jstree-"+this._id)},trigger:function(e,t){((t=t||{}).instance=this).element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var t=this.settings.core.strings;return O.isFunction(t)?t.call(this,e):t&&t[e]?t[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(e,t){var n;e&&e.id&&(e=e.id),e instanceof O&&e.length&&e[0].id&&(e=e[0].id);try{if(this._model.data[e])e=this._model.data[e];else if("string"==typeof e&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if("string"==typeof e&&(n=O("#"+e.replace(O.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=this.element.find(e)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=this.element.find(e)).length||!n.hasClass("jstree"))return!1;e=this._model.data[O.jstree.root]}return t&&(e=e.id===O.jstree.root?this.element:O("#"+e.id.replace(O.jstree.idregex,"\\$&"),this.element)),e}catch(e){return!1}},get_path:function(e,t,n){if(!(e=e.parents?e:this.get_node(e))||e.id===O.jstree.root||!e.parents)return!1;var r,i,s=[];for(s.push(n?e.id:e.text),r=0,i=e.parents.length;r<i;r++)s.push(n?e.parents[r]:this.get_text(e.parents[r]));return s=s.reverse().slice(1),t?s.join(t):s},get_next_dom:function(e,t){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&O(n)}if(!e||!e.length)return!1;if(t){for(n=e[0];n=this._nextSibling(n),n&&0===n.offsetHeight;);return!!n&&O(n)}if(e.hasClass("jstree-open")){for(n=this._firstChild(e.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return O(n)}for(n=e[0];n=this._nextSibling(n),n&&0===n.offsetHeight;);return null!==n?O(n):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,t){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&O(n)}if(!e||!e.length)return!1;if(t){for(n=e[0];n=this._previousSibling(n),n&&0===n.offsetHeight;);return!!n&&O(n)}for(n=e[0];n=this._previousSibling(n),n&&0===n.offsetHeight;);if(null===n)return!(!(n=e[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&O(n);for(e=O(n);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e},get_parent:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||0<e.children.length)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(a,o){var e,t,n,r,i;if(O.isArray(a))return this._load_nodes(a.slice(),o),!0;if(!(a=this.get_node(a)))return o&&o.call(this,a,!1),!1;if(a.state.loaded){for(a.state.loaded=!1,n=0,r=a.parents.length;n<r;n++)this._model.data[a.parents[n]].children_d=O.vakata.array_filter(this._model.data[a.parents[n]].children_d,function(e){return-1===O.inArray(e,a.children_d)});for(e=0,t=a.children_d.length;e<t;e++)this._model.data[a.children_d[e]].state.selected&&(i=!0),delete this._model.data[a.children_d[e]];i&&(this._data.core.selected=O.vakata.array_filter(this._data.core.selected,function(e){return-1===O.inArray(e,a.children_d)})),a.children=[],a.children_d=[],i&&this.trigger("changed",{action:"load_node",node:a,selected:this._data.core.selected})}return a.state.failed=!1,a.state.loading=!0,this.get_node(a,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(a,O.proxy(function(e){(a=this._model.data[a.id]).state.loading=!1,a.state.loaded=e,a.state.failed=!a.state.loaded;for(var t=this.get_node(a,!0),n=0,r=this._model.data,i=!1,n=0,s=a.children.length;n<s;n++)if(r[a.children[n]]&&!r[a.children[n]].state.hidden){i=!0;break}a.state.loaded&&t&&t.length&&(t.removeClass("jstree-closed jstree-open jstree-leaf"),i?"#"!==a.id&&t.addClass(a.state.opened?"jstree-open":"jstree-closed"):t.addClass("jstree-leaf")),t.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:a,status:e}),o&&o.call(this,a,e)},this)),!0},_load_nodes:function(e,t,n,r){for(var i=!0,s=function(){this._load_nodes(e,t,!0)},a=this._model.data,o=[],d=0,c=e.length;d<c;d++)a[e[d]]&&(!a[e[d]].state.loaded&&!a[e[d]].state.failed||!n&&r)&&(this.is_loading(e[d])||this.load_node(e[d],s),i=!1);if(i){for(d=0,c=e.length;d<c;d++)a[e[d]]&&a[e[d]].state.loaded&&o.push(e[d]);t&&!t.done&&(t.call(this,o),t.done=!0)}},load_all:function(e,t){if(e=e||O.jstree.root,!(e=this.get_node(e)))return!1;var n,r,i=[],s=this._model.data,a=s[e.id].children_d;for(e.state&&!e.state.loaded&&i.push(e.id),n=0,r=a.length;n<r;n++)s[a[n]]&&s[a[n]].state&&!s[a[n]].state.loaded&&i.push(a[n]);i.length?this._load_nodes(i,function(){this.load_all(e,t)}):(t&&t.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(i,s){function a(){return 3!==this.nodeType&&8!==this.nodeType}var e,t=this.settings.core.data;return t?O.isFunction(t)?t.call(this,i,O.proxy(function(e){!1===e?s.call(this,!1):this["string"==typeof e?"_append_html_data":"_append_json_data"](i,"string"==typeof e?O(O.parseHTML(e)).filter(a):e,function(e){s.call(this,e)})},this)):"object"==typeof t?t.url?(t=O.extend(!0,{},t),O.isFunction(t.url)&&(t.url=t.url.call(this,i)),O.isFunction(t.data)&&(t.data=t.data.call(this,i)),O.ajax(t).done(O.proxy(function(e,t,n){var r=n.getResponseHeader("Content-Type");return r&&-1!==r.indexOf("json")||"object"==typeof e?this._append_json_data(i,e,function(e){s.call(this,e)}):r&&-1!==r.indexOf("html")||"string"==typeof e?this._append_html_data(i,O(O.parseHTML(e)).filter(a),function(e){s.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:i.id,xhr:n})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))},this)).fail(O.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:i.id,xhr:e})},s.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(e=O.isArray(t)?O.extend(!0,[],t):O.isPlainObject(t)?O.extend(!0,{},t):t,i.id===O.jstree.root?this._append_json_data(i,e,function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:i.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))):"string"==typeof t?i.id===O.jstree.root?this._append_html_data(i,O(O.parseHTML(t)).filter(a),function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:i.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1)):s.call(this,!1):i.id===O.jstree.root?this._append_html_data(i,this._data.core.original_container_html.clone(!0),function(e){s.call(this,e)}):s.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&-1===O.inArray(e.id,this._model.changed)&&this._model.changed.push(e.id)},_append_html_data:function(e,t,n){(e=this.get_node(e)).children=[],e.children_d=[];var r,i,s,t=t.is("ul")?t.children():t,a=e.id,o=[],d=[],c=this._model.data,l=c[a],e=this._data.core.selected.length;for(t.each(O.proxy(function(e,t){(r=this._parse_model_from_html(O(t),a,l.parents.concat()))&&(o.push(r),d.push(r),c[r].children_d.length&&(d=d.concat(c[r].children_d)))},this)),l.children=o,l.children_d=d,i=0,s=l.parents.length;i<s;i++)c[l.parents[i]].children_d=c[l.parents[i]].children_d.concat(d);this.trigger("model",{nodes:d,parent:a}),a!==O.jstree.root?(this._node_changed(a),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==e&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(e,t,d,n){if(null!==this.element){(e=this.get_node(e)).children=[],e.children_d=[],t.d&&"string"==typeof(t=t.d)&&(t=JSON.parse(t)),O.isArray(t)||(t=[t]);var r=null,i={df:this._model.default_state,dat:t,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},v=this,s=function(e,c){e.data&&(e=e.data);var t,n,r,i,s=e.dat,a=e.par,o=[],d=[],l=[],h=e.df,u=e.t_id,f=e.t_cnt,p=e.m,g=p[a],e=e.sel,_=function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);var r,i,s,a,o=e.id.toString(),d={id:o,text:e.text||"",icon:e.icon===c||e.icon,parent:t,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in h)h.hasOwnProperty(r)&&(d.state[r]=h[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==c&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(d.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(d.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(d.li_attr[r]=e.li_attr[r]);if(d.li_attr.id||(d.li_attr.id=o),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(d.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),r=0,i=(p[d.id]=d).children.length;r<i;r++)s=_(p[d.children[r]],d.id,n),a=p[s],d.children_d.push(s),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d));return delete e.data,delete e.children,p[d.id].original=e,d.state.selected&&l.push(d.id),d.id},m=function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);for(var r,i,s,a,o,d=!1;d="j"+u+"_"+ ++f,p[d];);for(r in o={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===c||e.icon,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(r)&&(o.state[r]=h[r]);if(e&&e.id&&(o.id=e.id.toString()),e&&e.text&&(o.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(o.icon=e.data.jstree.icon),o.icon!==c&&null!==o.icon&&""!==o.icon||(o.icon=!0),e&&e.data&&(o.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(o.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(o.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(o.li_attr[r]=e.li_attr[r]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=d),o.li_attr.id||(o.li_attr.id=o.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(o.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,i=e.children.length;r<i;r++)s=m(e.children[r],o.id,n),a=p[s],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d));o.children_d=o.children_d.concat(o.children)}return e&&e.children&&!0===e.children&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete e.data,delete e.children,o.original=e,(p[o.id]=o).state.selected&&l.push(o.id),o.id};if(s.length&&s[0].id!==c&&s[0].parent!==c){for(n=0,r=s.length;n<r;n++)s[n].children||(s[n].children=[]),s[n].state||(s[n].state={}),p[s[n].id.toString()]=s[n];for(n=0,r=s.length;n<r;n++)p[s[n].parent.toString()]?(p[s[n].parent.toString()].children.push(s[n].id.toString()),g.children_d.push(s[n].id.toString())):void 0!==v&&(v._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[n].id.toString(),parent:s[n].parent.toString()})},v.settings.core.error.call(v,v._data.core.last_error));for(n=0,r=g.children.length;n<r;n++)t=_(p[g.children[n]],a,g.parents.concat()),d.push(t),p[t].children_d.length&&(d=d.concat(p[t].children_d));for(n=0,r=g.parents.length;n<r;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(d);i={cnt:f,mod:p,sel:e,par:a,dpc:d,add:l}}else{for(n=0,r=s.length;n<r;n++)(t=m(s[n],a,g.parents.concat()))&&(o.push(t),d.push(t),p[t].children_d.length&&(d=d.concat(p[t].children_d)));for(g.children=o,g.children_d=d,n=0,r=g.parents.length;n<r;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(d);i={cnt:f,mod:p,sel:e,par:a,dpc:d,add:l}}if("undefined"!=typeof window&&void 0!==window.document)return i;postMessage(i)},a=function(e,t){if(null!==this.element){for(var n in this._cnt=e.cnt,o=this._model.data)o.hasOwnProperty(n)&&o[n].state&&o[n].state.loading&&e.mod[n]&&(e.mod[n].state.loading=!0);if(this._model.data=e.mod,t){var r,i=e.add,s=e.sel,a=this._data.core.selected.slice(),o=this._model.data;if(s.length!==a.length||O.vakata.array_unique(s.concat(a)).length!==s.length){for(n=0,r=s.length;n<r;n++)-1===O.inArray(s[n],i)&&-1===O.inArray(s[n],a)&&(o[s[n]].state.selected=!1);for(n=0,r=a.length;n<r;n++)-1===O.inArray(a[n],s)&&(o[a[n]].state.selected=!0)}}e.add.length&&(this._data.core.selected=this._data.core.selected.concat(e.add)),this.trigger("model",{nodes:e.dpc,parent:e.par}),e.par!==O.jstree.root?(this._node_changed(e.par),this.redraw()):this.redraw(!0),e.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!t&&c?c(function(){d.call(v,!0)}):d.call(v,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||n?(this._data.core.working=!0,(r=new window.Worker(this._wrk)).onmessage=O.proxy(function(e){a.call(this,e.data,!0);try{r.terminate(),r=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),i.par?r.postMessage(i):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,t,d,!0])}catch(e){a.call(this,s(i),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else a.call(this,s(i),!1)}},_parse_model_from_html:function(e,t,n){n=n?[].concat(n):[],t&&n.unshift(t);var r,i,s,a,o=this._model.data,d={id:!1,text:!1,icon:!0,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(d.state[s]=this._model.default_state[s]);if(t=O.vakata.attributes(e,!0),O.each(t,function(e,t){return!(t=O.trim(t)).length||(d.li_attr[e]=t,void("id"===e&&(d.id=t.toString())))}),(t=e.children("a").first()).length&&(t=O.vakata.attributes(t,!0),O.each(t,function(e,t){(t=O.trim(t)).length&&(d.a_attr[e]=t)})),(t=(e.children("a").first().length?e.children("a").first():e).clone()).children("ins, i, ul").remove(),t=t.html(),t=O("<div></div>").html(t),d.text=this.settings.core.force_text?t.text():t.html(),t=e.data(),d.data=t?O.extend(!0,{},t):null,d.state.opened=e.hasClass("jstree-open"),d.state.selected=e.children("a").hasClass("jstree-clicked"),d.state.disabled=e.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(s in d.data.jstree)d.data.jstree.hasOwnProperty(s)&&(d.state[s]=d.data.jstree[s]);for(t=e.children("a").children(".jstree-themeicon"),t.length&&(d.icon=!t.hasClass("jstree-themeicon-hidden")&&t.attr("rel")),d.state.icon!==D&&(d.icon=d.state.icon),d.icon!==D&&null!==d.icon&&""!==d.icon||(d.icon=!0),t=e.children("ul").children("li");a="j"+this._id+"_"+ ++this._cnt,o[a];);return d.id=d.li_attr.id?d.li_attr.id.toString():a,t.length?(t.each(O.proxy(function(e,t){r=this._parse_model_from_html(O(t),d.id,n),i=this._model.data[r],d.children.push(r),i.children_d.length&&(d.children_d=d.children_d.concat(i.children_d))},this)),d.children_d=d.children_d.concat(d.children)):e.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr.class&&(d.li_attr.class=d.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),d.a_attr.class&&(d.a_attr.class=d.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(o[d.id]=d).state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);var r,i,s,a,o=e.id.toString(),d=this._model.data,c=this._model.default_state,l={id:o,text:e.text||"",icon:e.icon===D||e.icon,parent:t,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in c)c.hasOwnProperty(r)&&(l.state[r]=c[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==D&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id||(l.li_attr.id=o),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),r=0,i=(d[l.id]=l).children.length;r<i;r++)a=d[s=this._parse_model_from_flat_json(d[l.children[r]],l.id,n)],l.children_d.push(s),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));return delete e.data,delete e.children,d[l.id].original=e,l.state.selected&&this._data.core.selected.push(l.id),l.id},_parse_model_from_json:function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);for(var r,i,s,a,o,d=!1,c=this._model.data,l=this._model.default_state;d="j"+this._id+"_"+ ++this._cnt,c[d];);for(r in o={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===D||e.icon,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},l)l.hasOwnProperty(r)&&(o.state[r]=l[r]);if(e&&e.id&&(o.id=e.id.toString()),e&&e.text&&(o.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(o.icon=e.data.jstree.icon),o.icon!==D&&null!==o.icon&&""!==o.icon||(o.icon=!0),e&&e.data&&(o.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(o.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(o.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(o.li_attr[r]=e.li_attr[r]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=d),o.li_attr.id||(o.li_attr.id=o.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(o.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,i=e.children.length;r<i;r++)a=c[s=this._parse_model_from_json(e.children[r],o.id,n)],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d));o.children_d=o.children.concat(o.children_d)}return e&&e.children&&!0===e.children&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete e.data,delete e.children,o.original=e,(c[o.id]=o).state.selected&&this._data.core.selected.push(o.id),o.id},_redraw:function(){for(var e,t=(this._model.force_full_redraw?this._model.data[O.jstree.root].children:this._model.changed).concat([]),n=x.createElement("UL"),r=this._data.core.focused,i=0,s=t.length;i<s;i++)(e=this.redraw_node(t[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&n.appendChild(e);this._model.force_full_redraw&&(n.className=this.get_container_ul()[0].className,n.setAttribute("role","group"),this.element.empty().append(n)),null!==r&&this.settings.core.restore_focus&&((e=this.get_node(r,!0))&&e.length&&e.children(".jstree-anchor")[0]!==x.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:t})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var t,n=this.get_node(e),r=!1,i=!1,s=x;if(!n)return!1;if(n.id===O.jstree.root)return this.redraw(!0);if(!(e=this.get_node(e,!0))||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],n.children.length&&n.state.loaded){for((i=s.createElement("UL")).setAttribute("role","group"),i.className="jstree-children",r=0,t=n.children.length;r<t;r++)i.appendChild(this.redraw_node(n.children[r],!0,!0));e.appendChild(i)}},redraw_node:function(e,t,n,r){var i,s,a=this.get_node(e),o=!1,d=!1,c=!1,l=!1,h=!1,u=!1,f="",p=x,g=this._model.data,_=!1,m=null,v=!1,y=!1;if(!a)return!1;if(a.id===O.jstree.root)return this.redraw(!0);if(t=t||0===a.children.length,e=x.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(a.id[0])?"\\3"+a.id[0]+" "+a.id.substr(1).replace(O.jstree.idregex,"\\$&"):a.id.replace(O.jstree.idregex,"\\$&"))):x.getElementById(a.id))e=O(e),n||((o=e.parent().parent()[0])===this.element[0]&&(o=null),d=e.index()),t||!a.children.length||e.children(".jstree-children").length||(t=!0),t||(c=e.children(".jstree-children")[0]),_=e.children(".jstree-anchor")[0]===x.activeElement,e.remove();else if(t=!0,!n){if(!(null===(o=a.parent!==O.jstree.root?O("#"+a.parent.replace(O.jstree.idregex,"\\$&"),this.element)[0]:null)||o&&g[a.parent].state.opened))return!1;d=O.inArray(a.id,(null===o?g[O.jstree.root]:g[a.parent]).children)}for(l in e=this._data.core.node.cloneNode(!0),f="jstree-node ",a.li_attr)a.li_attr.hasOwnProperty(l)&&"id"!==l&&("class"!==l?e.setAttribute(l,a.li_attr[l]):f+=a.li_attr[l]);for(a.a_attr.id||(a.a_attr.id=a.id+"_anchor"),e.setAttribute("aria-selected",!!a.state.selected),e.childNodes[1].setAttribute("aria-selected",!!a.state.selected),e.setAttribute("aria-level",a.parents.length),e.childNodes[1].setAttribute("aria-level",a.parents.length),e.setAttribute("aria-labelledby",a.a_attr.id),a.state.disabled&&(e.setAttribute("aria-disabled",!0),e.childNodes[1].setAttribute("aria-disabled",!0)),l=0,h=a.children.length;l<h;l++)if(!g[a.children[l]].state.hidden){v=!0;break}if(null!==a.parent&&g[a.parent]&&!a.state.hidden&&(l=O.inArray(a.id,g[a.parent].children),y=a.id,-1!==l))for(l++,h=g[a.parent].children.length;l<h&&(g[g[a.parent].children[l]].state.hidden||(y=g[a.parent].children[l]),y===a.id);l++);for(h in a.state.hidden&&(f+=" jstree-hidden"),a.state.loading&&(f+=" jstree-loading"),a.state.loaded&&!v?f+=" jstree-leaf":(f+=a.state.opened&&a.state.loaded?" jstree-open":" jstree-closed",e.setAttribute("aria-expanded",a.state.opened&&a.state.loaded),e.childNodes[1].setAttribute("aria-expanded",a.state.opened&&a.state.loaded)),y===a.id&&(f+=" jstree-last"),e.id=a.id,e.className=f,f=(a.state.selected?" jstree-clicked":"")+(a.state.disabled?" jstree-disabled":""),a.a_attr)a.a_attr.hasOwnProperty(h)&&("href"===h&&"#"===a.a_attr[h]||("class"!==h?e.childNodes[1].setAttribute(h,a.a_attr[h]):f+=" "+a.a_attr[h]));if(f.length&&(e.childNodes[1].className="jstree-anchor "+f),(a.icon&&!0!==a.icon||!1===a.icon)&&(!1===a.icon?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===a.icon.indexOf("/")&&-1===a.icon.indexOf(".")?e.childNodes[1].childNodes[0].className+=" "+a.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+a.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(p.createTextNode(a.text)):e.childNodes[1].innerHTML+=a.text,t&&a.children.length&&(a.state.opened||r)&&a.state.loaded){for((u=p.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",l=0,h=a.children.length;l<h;l++)u.appendChild(this.redraw_node(a.children[l],t,!0));e.appendChild(u)}if(c&&e.appendChild(c),!n){for(l=0,h=(o=o||this.element[0]).childNodes.length;l<h;l++)if(o.childNodes[l]&&o.childNodes[l].className&&-1!==o.childNodes[l].className.indexOf("jstree-children")){m=o.childNodes[l];break}m||((m=p.createElement("UL")).setAttribute("role","group"),m.className="jstree-children",o.appendChild(m)),d<(o=m).childNodes.length?o.insertBefore(e,o.childNodes[d]):o.appendChild(e),_&&(i=this.element[0].scrollTop,s=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=i,this.element[0].scrollLeft=s)}return a.state.opened&&!a.state.loaded&&(a.state.opened=!1,setTimeout(O.proxy(function(){this.open_node(a.id,!1,0)},this),0)),e},open_node:function(e,n,r){var t,i,s,a;if(O.isArray(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.open_node(e[t],n,r);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(r=r===D?this.settings.core.animation:r,this.is_closed(e)?this.is_loaded(e)?(s=this.get_node(e,!0),a=this,s.length&&(r&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(e),r?(this.trigger("before_open",{node:e}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",a.element&&a.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0),s[0].childNodes[1].setAttribute("aria-expanded",!0))),e.state.opened=!0,n&&n.call(this,e,!0),s.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),r&&s.length||this.trigger("after_open",{node:e}),!0):this.is_loading(e)?setTimeout(O.proxy(function(){this.open_node(e,n,r)},this),500):void this.load_node(e,function(e,t){return t?this.open_node(e,n,r):!!n&&n.call(this,e,!1)}):(n&&n.call(this,e,!1),!1))},_open_to:function(e){if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;for(var t=e.parents,n=0,r=t.length;n<r;n+=1)n!==O.jstree.root&&this.open_node(t[n],!1,0);return O("#"+e.id.replace(O.jstree.idregex,"\\$&"),this.element)},close_node:function(e,t){var n,r,i,s;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.close_node(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(!this.is_closed(e)&&(t=t===D?this.settings.core.animation:t,s=(i=this).get_node(e,!0),e.state.opened=!1,this.trigger("close_node",{node:e}),void(s.length?t?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(t,function(){this.style.display="",s.children(".jstree-children").remove(),i.element&&i.trigger("after_close",{node:e})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.children(".jstree-anchor").attr("aria-expanded",!1),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:e})):this.trigger("after_close",{node:e}))))},toggle_node:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.toggle_node(e[t]);return!0}return this.is_closed(e)?this.open_node(e):this.is_open(e)?this.close_node(e):void 0},open_all:function(e,n,r){if(e=e||O.jstree.root,!(e=this.get_node(e)))return!1;var t,i,s,a=e.id===O.jstree.root?this.get_container_ul():this.get_node(e,!0);if(!a.length){for(t=0,i=e.children_d.length;t<i;t++)this.is_closed(this._model.data[e.children_d[t]])&&(this._model.data[e.children_d[t]].state.opened=!0);return this.trigger("open_all",{node:e})}r=r||a,(a=(s=this).is_closed(e)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each(function(){s.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)},n||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(e,t){if(e=e||O.jstree.root,!(e=this.get_node(e)))return!1;var n,r,i=e.id===O.jstree.root?this.get_container_ul():this.get_node(e,!0),s=this;for(i.length&&(i=this.is_open(e)?i.find(".jstree-open").addBack():i.find(".jstree-open"),O(i.get().reverse()).each(function(){s.close_node(this,t||0)})),n=0,r=e.children_d.length;n<r;n++)this._model.data[e.children_d[n]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.enable_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.disable_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(e,t){var n,r;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.hide_node(e[n],!0);return t||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),t||this.redraw(),this.trigger("hide_node",{node:e}))},show_node:function(e,t){var n,r;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.show_node(e[n],!0);return t||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),t||this.redraw(),this.trigger("show_node",{node:e}))},hide_all:function(e){var t,n=this._model.data,r=[];for(t in n)n.hasOwnProperty(t)&&t!==O.jstree.root&&!n[t].state.hidden&&(n[t].state.hidden=!0,r.push(t));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(e){var t,n=this._model.data,r=[];for(t in n)n.hasOwnProperty(t)&&t!==O.jstree.root&&n[t].state.hidden&&(n[t].state.hidden=!1,r.push(t));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,t){if(this.is_disabled(e))return!1;if(t&&"object"==typeof t||(t={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==D?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&(!t.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(t.shiftKey){for(var n=this.get_node(e).id,r=this._data.core.last_clicked.id,i=this.get_node(this._data.core.last_clicked.parent).children,s=!1,a=0,o=i.length;a<o;a+=1)i[a]===n&&(s=!s),i[a]===r&&(s=!s),this.is_disabled(i[a])||!s&&i[a]!==n&&i[a]!==r?this.deselect_node(i[a],!0,t):this.is_hidden(i[a])||this.select_node(i[a],!0,!1,t);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:t})}else this.is_selected(e)?this.deselect_node(e,!1,t):this.select_node(e,!1,!1,t);else!this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,t):(this.deselect_all(!0),this.select_node(e,!1,!1,t),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:t})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,t,n,r){var i,s,a;if(O.isArray(e)){for(s=0,a=(e=e.slice()).length;s<a;s++)this.select_node(e[s],t,n,r);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;i=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),n||(i=this._open_to(e)),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:r}),t||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:r}))},deselect_node:function(e,t,n){var r,i,s;if(O.isArray(e)){for(r=0,i=(e=e.slice()).length;r<i;r++)this.deselect_node(e[r],t,n);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;s=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=O.vakata.array_remove_item(this._data.core.selected,e.id),s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:n}),t||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:n}))},select_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[O.jstree.root].children_d.concat(),t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){for(var t=this._data.core.selected.concat([]),n=0,r=this._data.core.selected.length;n<r;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1).parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:t}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:t})},is_selected:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.state.selected},get_selected:function(e){return e?O.map(this._data.core.selected,O.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(e){for(var t,n,r=this.get_selected(!0),i={},s=0,a=r.length;s<a;s++)i[r[s].id]=r[s];for(s=0,a=r.length;s<a;s++)for(t=0,n=r[s].children_d.length;t<n;t++)i[r[s].children_d[t]]&&delete i[r[s].children_d[t]];for(s in r=[],i)i.hasOwnProperty(s)&&r.push(s);return e?O.map(r,O.proxy(function(e){return this.get_node(e)},this)):r},get_bottom_selected:function(e){for(var t=this.get_selected(!0),n=[],r=0,i=t.length;r<i;r++)t[r].children.length||n.push(t[r].id);return e?O.map(n,O.proxy(function(e){return this.get_node(e)},this)):n},get_state:function(){var e,t={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&e!==O.jstree.root&&(this._model.data[e].state.loaded&&this.settings.core.loaded_state&&t.core.loaded.push(e),this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected&&t.core.selected.push(e));return t},set_state:function(t,n){if(t){if(t.core&&t.core.selected&&t.core.initial_selection===D&&(t.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),t.core){var r,e;if(t.core.loaded)return this.settings.core.loaded_state&&O.isArray(t.core.loaded)&&t.core.loaded.length?this._load_nodes(t.core.loaded,function(e){delete t.core.loaded,this.set_state(t,n)}):(delete t.core.loaded,this.set_state(t,n)),!1;if(t.core.open)return O.isArray(t.core.open)&&t.core.open.length?this._load_nodes(t.core.open,function(e){this.open_node(e,!1,0),delete t.core.open,this.set_state(t,n)}):(delete t.core.open,this.set_state(t,n)),!1;if(t.core.scroll)return t.core.scroll&&t.core.scroll.left!==D&&this.element.scrollLeft(t.core.scroll.left),t.core.scroll&&t.core.scroll.top!==D&&this.element.scrollTop(t.core.scroll.top),delete t.core.scroll,this.set_state(t,n),!1;if(t.core.selected)return r=this,t.core.initial_selection!==D&&t.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),O.each(t.core.selected,function(e,t){r.select_node(t,!1,!0)})),delete t.core.initial_selection,delete t.core.selected,this.set_state(t,n),!1;for(e in t)t.hasOwnProperty(e)&&"core"!==e&&-1===O.inArray(e,this.settings.plugins)&&delete t[e];if(O.isEmptyObject(t.core))return delete t.core,this.set_state(t,n),!1}return O.isEmptyObject(t)?(t=null,n&&n.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(e,t){this._data.core.state=!0===t?{}:this.get_state(),t&&O.isFunction(t)&&(this._data.core.state=t.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[O.jstree.root]={id:O.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='presentation' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(O.jstree.root,function(e,t){t&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(O.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===O.jstree.root)return!1;var n=[],e=[],r=this._data.core.selected.concat([]);e.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){e.push(this.id),n.push(this.id)}),this._load_nodes(e,O.proxy(function(e){this.open_node(n,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(e,t){if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;var n,r,i=this._model.data,s=e.id;for(t=t.toString(),i[e.parent].children[O.inArray(e.id,i[e.parent].children)]=t,n=0,r=e.parents.length;n<r;n++)i[e.parents[n]].children_d[O.inArray(e.id,i[e.parents[n]].children_d)]=t;for(n=0,r=e.children.length;n<r;n++)i[e.children[n]].parent=t;for(n=0,r=e.children_d.length;n<r;n++)i[e.children_d[n]].parents[O.inArray(e.id,i[e.children_d[n]].parents)]=t;return-1!==(n=O.inArray(e.id,this._data.core.selected))&&(this._data.core.selected[n]=t),(n=this.get_node(e.id,!0))&&(n.attr("id",t),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",t)),delete i[e.id],e.id=t,i[e.li_attr.id=t]=e,this.trigger("set_id",{node:e,new:e.id,old:s}),!0},get_text:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.text},set_text:function(e,t){var n,r;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.set_text(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(e.text=t,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:t}),!0)},get_json:function(e,t,n){if(!(e=this.get_node(e||O.jstree.root)))return!1;t&&t.flat&&!n&&(n=[]);var r,i,s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:O.extend(!0,{},e.li_attr),a_attr:O.extend(!0,{},e.a_attr),state:{},data:(!t||!t.no_data)&&O.extend(!0,O.isArray(e.data)?[]:{},e.data)};if(t&&t.flat?s.parent=e.parent:s.children=[],t&&t.no_state)delete s.state;else for(r in e.state)e.state.hasOwnProperty(r)&&(s.state[r]=e.state[r]);if(t&&t.no_li_attr&&delete s.li_attr,t&&t.no_a_attr&&delete s.a_attr,t&&t.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),t&&t.flat&&e.id!==O.jstree.root&&n.push(s),!t||!t.no_children)for(r=0,i=e.children.length;r<i;r++)t&&t.flat?this.get_json(e.children[r],t,n):s.children.push(this.get_json(e.children[r],t));return t&&t.flat?n:e.id===O.jstree.root?s.children:s},create_node:function(e,t,n,r,i){if(null===e&&(e=O.jstree.root),!(e=this.get_node(e)))return!1;if(!(n=n===D?"last":n).toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,n,r,!0)});var s,a,o,d;switch((t="string"==typeof(t=t||{text:this.get_string("New node")})?{text:t}:O.extend(!0,{},t)).text===D&&(t.text=this.get_string("New node")),e.id===O.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":s=this.get_node(e.parent),n=O.inArray(e.id,s.children),e=s;break;case"after":s=this.get_node(e.parent),n=O.inArray(e.id,s.children)+1,e=s;break;case"inside":case"first":n=0;break;case"last":n=e.children.length;break;default:n=n||0}if(n>e.children.length&&(n=e.children.length),t.id||(t.id=!0),!this.check("create_node",t,e,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===t.id&&delete t.id,!(t=this._parse_model_from_json(t,e.id,e.parents.concat())))return!1;for(s=this.get_node(t),(a=[]).push(t),a=a.concat(s.children_d),this.trigger("model",{nodes:a,parent:e.id}),e.children_d=e.children_d.concat(a),o=0,d=e.parents.length;o<d;o++)this._model.data[e.parents[o]].children_d=this._model.data[e.parents[o]].children_d.concat(a);for(t=s,s=[],o=0,d=e.children.length;o<d;o++)s[n<=o?o+1:o]=e.children[o];return s[n]=t.id,e.children=s,this.redraw_node(e,!0),this.trigger("create_node",{node:this.get_node(t),parent:e.id,position:n}),r&&r.call(this,this.get_node(t)),t.id},rename_node:function(e,t){var n,r,i;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.rename_node(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(i=e.text,this.check("rename_node",e,this.get_parent(e),t)?(this.set_text(e,t),this.trigger("rename_node",{node:e,text:t,old:i}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(e){var t,n,r,i,s,a,o,d,c,l,h;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.delete_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;if(r=this.get_node(e.parent),h=O.inArray(e.id,r.children),c=!1,!this.check("delete_node",e,r,h))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==h&&(r.children=O.vakata.array_remove(r.children,h)),(i=e.children_d.concat([])).push(e.id),s=0,a=e.parents.length;s<a;s++)this._model.data[e.parents[s]].children_d=O.vakata.array_filter(this._model.data[e.parents[s]].children_d,function(e){return-1===O.inArray(e,i)});for(o=0,d=i.length;o<d;o++)if(this._model.data[i[o]].state.selected){c=!0;break}for(c&&(this._data.core.selected=O.vakata.array_filter(this._data.core.selected,function(e){return-1===O.inArray(e,i)})),this.trigger("delete_node",{node:e,parent:r.id}),c&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:r.id}),o=0,d=i.length;o<d;o++)delete this._model.data[i[o]];return-1!==O.inArray(this._data.core.focused,i)&&(this._data.core.focused=null,l=this.element[0].scrollTop,h=this.element[0].scrollLeft,r.id===O.jstree.root?this._model.data[O.jstree.root].children[0]&&this.get_node(this._model.data[O.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(r,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=l,this.element[0].scrollLeft=h),this.redraw_node(r,!0),!0},check:function(e,t,n,r,i){t=t&&t.id?t:this.get_node(t),n=n&&n.id?n:this.get_node(n);var s=e.match(/^move_node|copy_node|create_node$/i)?n:t,a=this.settings.core.check_callback;if("move_node"===e||"copy_node"===e){if(!(i&&i.is_multi||"move_node"!==e||O.inArray(t.id,n.children)!==r))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(!(i&&i.is_multi||t.id!==n.id&&("move_node"!==e||O.inArray(t.id,n.children)!==r)&&-1===O.inArray(n.id,t.children_d)))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})}return s&&s.data&&(s=s.data),s&&s.functions&&(!1===s.functions[e]||!0===s.functions[e])?(!1===s.functions[e]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s.functions[e]):!(!1===a||O.isFunction(a)&&!1===a.call(this,e,t,n,r,i)||a&&!1===a[e])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})},last_error:function(){return this._data.core.last_error},move_node:function(e,t,n,r,i,s,a){var o,d,c,l,h,u,f,p,g,_,m,v,y,x;if(t=this.get_node(t),n=n===D?0:n,!t)return!1;if(!n.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(t))return this.load_node(t,function(){this.move_node(e,t,n,r,!0,!1,a)});if(O.isArray(e)){if(1!==e.length){for(o=0,d=e.length;o<d;o++)(g=this.move_node(e[o],t,n,r,i,!1,a))&&(t=g,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||e.id===O.jstree.root)return!1;if(c=(e.parent||O.jstree.root).toString(),h=n.toString().match(/^(before|after)$/)&&t.id!==O.jstree.root?this.get_node(t.parent):t,f=!(u=a||(this._model.data[e.id]?this:O.jstree.reference(e.id)))||!u._id||this._id!==u._id,l=u&&u._id&&c&&u._model.data[c]&&u._model.data[c].children?O.inArray(e.id,u._model.data[c].children):-1,u&&u._id&&(e=u._model.data[e.id]),f)return!!(g=this.copy_node(e,t,n,r,i,!1,a))&&(u&&u.delete_node(e),g);switch(t.id===O.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=O.inArray(t.id,h.children);break;case"after":n=O.inArray(t.id,h.children)+1;break;case"inside":case"first":n=0;break;case"last":n=h.children.length;break;default:n=n||0}if(n>h.children.length&&(n=h.children.length),!this.check("move_node",e,h,n,{core:!0,origin:a,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===h.id){for(p=h.children.concat(),-1!==(g=O.inArray(e.id,p))&&(p=O.vakata.array_remove(p,g),g<n&&n--),g=[],_=0,m=p.length;_<m;_++)g[n<=_?_+1:_]=p[_];g[n]=e.id,h.children=g,this._node_changed(h.id),this.redraw(h.id===O.jstree.root)}else{for((g=e.children_d.concat()).push(e.id),_=0,m=e.parents.length;_<m;_++){for(p=[],v=0,y=(x=u._model.data[e.parents[_]].children_d).length;v<y;v++)-1===O.inArray(x[v],g)&&p.push(x[v]);u._model.data[e.parents[_]].children_d=p}for(u._model.data[c].children=O.vakata.array_remove_item(u._model.data[c].children,e.id),_=0,m=h.parents.length;_<m;_++)this._model.data[h.parents[_]].children_d=this._model.data[h.parents[_]].children_d.concat(g);for(p=[],_=0,m=h.children.length;_<m;_++)p[n<=_?_+1:_]=h.children[_];for(p[n]=e.id,h.children=p,h.children_d.push(e.id),h.children_d=h.children_d.concat(e.children_d),e.parent=h.id,(g=h.parents.concat()).unshift(h.id),x=e.parents.length,g=(e.parents=g).concat(),_=0,m=e.children_d.length;_<m;_++)this._model.data[e.children_d[_]].parents=this._model.data[e.children_d[_]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[e.children_d[_]].parents,g);c!==O.jstree.root&&h.id!==O.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(c),this._node_changed(h.id)),s||this.redraw()}return r&&r.call(this,e,h,n),this.trigger("move_node",{node:e,parent:h.id,position:n,old_parent:c,old_position:l,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id,old_instance:u,new_instance:this}),e.id},copy_node:function(e,t,n,r,i,s,a){var o,d,c,l,h,u,f,p,g,_;if(t=this.get_node(t),n=n===D?0:n,!t)return!1;if(!n.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(t))return this.load_node(t,function(){this.copy_node(e,t,n,r,!0,!1,a)});if(O.isArray(e)){if(1!==e.length){for(o=0,d=e.length;o<d;o++)(l=this.copy_node(e[o],t,n,r,i,!0,a))&&(t=l,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||e.id===O.jstree.root)return!1;switch(p=(e.parent||O.jstree.root).toString(),g=n.toString().match(/^(before|after)$/)&&t.id!==O.jstree.root?this.get_node(t.parent):t,(_=a||(this._model.data[e.id]?this:O.jstree.reference(e.id)))&&_._id&&(this._id,_._id),_&&_._id&&(e=_._model.data[e.id]),t.id===O.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=O.inArray(t.id,g.children);break;case"after":n=O.inArray(t.id,g.children)+1;break;case"inside":case"first":n=0;break;case"last":n=g.children.length;break;default:n=n||0}if(n>g.children.length&&(n=g.children.length),!this.check("copy_node",e,g,n,{core:!0,origin:a,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(f=_?_.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e))return!1;if(!0===f.id&&delete f.id,!(f=this._parse_model_from_json(f,g.id,g.parents.concat())))return!1;for(l=this.get_node(f),e&&e.state&&!1===e.state.loaded&&(l.state.loaded=!1),(c=[]).push(f),c=c.concat(l.children_d),this.trigger("model",{nodes:c,parent:g.id}),h=0,u=g.parents.length;h<u;h++)this._model.data[g.parents[h]].children_d=this._model.data[g.parents[h]].children_d.concat(c);for(c=[],h=0,u=g.children.length;h<u;h++)c[n<=h?h+1:h]=g.children[h];return c[n]=l.id,g.children=c,g.children_d.push(l.id),g.children_d=g.children_d.concat(l.children_d),g.id===O.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(g.id),s||this.redraw(g.id===O.jstree.root),r&&r.call(this,l,g,n),this.trigger("copy_node",{node:l,original:e,parent:g.id,position:n,old_parent:p,old_position:_&&_._id&&p&&_._model.data[p]&&_._model.data[p].children?O.inArray(e.id,_._model.data[p].children):-1,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id,old_instance:_,new_instance:this}),l.id},cut:function(e){if(e=e||this._data.core.selected.concat(),O.isArray(e)||(e=[e]),!e.length)return!1;for(var t,n=[],r=0,i=e.length;r<i;r++)(t=this.get_node(e[r]))&&t.id&&t.id!==O.jstree.root&&n.push(t);if(!n.length)return!1;s=n,a="move_node",(o=this).trigger("cut",{node:e})},copy:function(e){if(e=e||this._data.core.selected.concat(),O.isArray(e)||(e=[e]),!e.length)return!1;for(var t,n=[],r=0,i=e.length;r<i;r++)(t=this.get_node(e[r]))&&t.id&&t.id!==O.jstree.root&&n.push(t);if(!n.length)return!1;s=n,a="copy_node",(o=this).trigger("copy",{node:e})},get_buffer:function(){return{mode:a,node:s,inst:o}},can_paste:function(){return!1!==a&&!1!==s},paste:function(e,t){if(!((e=this.get_node(e))&&a&&a.match(/^(copy_node|move_node)$/)&&s))return!1;this[a](s,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:s,mode:a}),o=a=s=!1},clear_buffer:function(){o=a=s=!1,this.trigger("clear_buffer")},edit:function(n,e,r){var t,i,s,a,o,d,c,l,h=!1;return!!(n=this.get_node(n))&&(this.check("edit",n,this.get_parent(n))?(l=n,e="string"==typeof e?e:n.text,this.set_text(n,""),n=this._open_to(n),l.text=e,c=this._data.core.rtl,t=this.element.width(),this._data.core.focused=l.id,i=n.children(".jstree-anchor").focus(),s=O("<span></span>"),a=e,o=O("<div></div>",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo(x.body),d=O("<input />",{value:a,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:O.proxy(function(e){e.stopImmediatePropagation(),e.preventDefault();var t=s.children(".jstree-rename-input").val(),e=this.settings.core.force_text;""===t&&(t=a),o.remove(),s.replaceWith(i),s.remove(),a=e?a:O("<div></div>").append(O.parseHTML(a)).html(),n=this.get_node(n),this.set_text(n,a),(t=!!this.rename_node(n,e?O("<div></div>").text(t).text():O("<div></div>").append(O.parseHTML(t)).html()))||this.set_text(n,a),this._data.core.focused=l.id,setTimeout(O.proxy(function(){var e=this.get_node(l.id,!0);e.length&&(this._data.core.focused=l.id,e.children(".jstree-anchor").focus())},this),0),r&&r.call(this,l,t,h),d=null},this),keydown:function(e){var t=e.which;27===t&&(h=!0,this.value=a),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){d.width(Math.min(o.text("pW"+this.value).width(),t))},keypress:function(e){if(13===e.which)return!1}}),c={fontFamily:i.css("fontFamily")||"",fontSize:i.css("fontSize")||"",fontWeight:i.css("fontWeight")||"",fontStyle:i.css("fontStyle")||"",fontStretch:i.css("fontStretch")||"",fontVariant:i.css("fontVariant")||"",letterSpacing:i.css("letterSpacing")||"",wordSpacing:i.css("wordSpacing")||""},s.attr("class",i.attr("class")).append(i.contents().clone()).append(d),i.replaceWith(s),o.css(c),d.css(c).width(Math.min(o.text("pW"+d[0].value).width(),t))[0].select(),void O(x).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(e){d&&e.target!==d&&O(d).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(e,t){if(!e)return!1;!0===t&&(t=(this.settings.core.themes.dir||O.jstree.path+"/themes")+"/"+e+"/style.css"),t&&-1===O.inArray(t,n)&&(O("head").append('<link rel="stylesheet" href="'+t+'" type="text/css" />'),n.push(t)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),(this._data.core.themes.variant=e)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(e,t){var n,r,i,s;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.set_icon(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(s=e.icon,e.icon=!0===t||null===t||t===D||""===t||t,i=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===t?(i.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(e)):(!0===t||null===t||t===D||""===t?i.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"):-1===t.indexOf("/")&&-1===t.indexOf(".")?(i.removeClass(s).css("background",""),i.addClass(t+" jstree-themeicon-custom").attr("rel",t)):(i.removeClass(s).css("background",""),i.addClass("jstree-themeicon-custom").css("background","url('"+t+"') center center no-repeat").attr("rel",t)),!1===s&&this.show_icon(e)),!0)},get_icon:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.icon},hide_icon:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.hide_icon(e[t]);return!0}return!(!(e=this.get_node(e))||e===O.jstree.root)&&(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(e){var t,n,r;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.show_icon(e[t]);return!0}return!(!(e=this.get_node(e))||e===O.jstree.root)&&(r=this.get_node(e,!0),e.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),e.icon||(e.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},O.vakata={},O.vakata.attributes=function(e,n){e=O(e)[0];var r=n?{}:[];return e&&e.attributes&&O.each(e.attributes,function(e,t){-1===O.inArray(t.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==t.value&&""!==O.trim(t.value)&&(n?r[t.name]=t.value:r.push(t.name))}),r},O.vakata.array_unique=function(e){for(var t=[],n={},r=0,i=e.length;r<i;r++)n[e[r]]===D&&(t.push(e[r]),n[e[r]]=!0);return t},O.vakata.array_remove=function(e,t){return e.splice(t,1),e},O.vakata.array_remove_item=function(e,t){t=O.inArray(t,e);return-1!==t?O.vakata.array_remove(e,t):e},O.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);for(i in r=[],e)~~i+""==i+""&&0<=i&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},O.jstree.plugins.changed=function(e,s){var a=[];this.trigger=function(e,t){if(t=t||{},"changed"===e.replace(".jstree","")){t.changed={selected:[],deselected:[]};for(var n={},r=0,i=a.length;r<i;r++)n[a[r]]=1;for(r=0,i=t.selected.length;r<i;r++)n[t.selected[r]]?n[t.selected[r]]=2:t.changed.selected.push(t.selected[r]);for(r=0,i=a.length;r<i;r++)1===n[a[r]]&&t.changed.deselected.push(a[r]);a=t.selected.slice()}s.trigger.call(this,e,t)},this.refresh=function(e,t){return a=[],s.refresh.apply(this,arguments)}};var l,h,u,d,f,p,g,w,_=x.createElement("I");_.className="jstree-icon jstree-checkbox",_.setAttribute("role","presentation"),O.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},O.jstree.plugins.checkbox=function(e,d){this.bind=function(){d.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",O.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",O.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",O.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(O.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",O.proxy(function(e,t){for(var n=this._model.data,r=(n[t.parent],t.nodes),i=0,s=r.length;i<s;i++)n[r[i]].state.checked=n[r[i]].state.checked||n[r[i]].original&&n[r[i]].original.state&&n[r[i]].original.state.checked,n[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",O.proxy(function(e,t){var n,r,i,s,a,o,d=this._model.data,c=d[t.parent],l=t.nodes,h=[],t=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection;if(-1!==t.indexOf("down"))if(c.state[u?"selected":"checked"]){for(r=0,i=l.length;r<i;r++)d[l[r]].state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected=this._data[u?"core":"checkbox"].selected.concat(l)}else for(r=0,i=l.length;r<i;r++)if(d[l[r]].state[u?"selected":"checked"]){for(s=0,a=d[l[r]].children_d.length;s<a;s++)d[d[l[r]].children_d[s]].state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected=this._data[u?"core":"checkbox"].selected.concat(d[l[r]].children_d)}if(-1!==t.indexOf("up")){for(r=0,i=c.children_d.length;r<i;r++)d[c.children_d[r]].children.length||h.push(d[c.children_d[r]].parent);for(s=0,a=(h=O.vakata.array_unique(h)).length;s<a;s++)for(c=d[h[s]];c&&c.id!==O.jstree.root;){for(r=n=0,i=c.children.length;r<i;r++)n+=d[c.children[r]].state[u?"selected":"checked"];if(n!==i)break;c.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(c.id),(o=this.get_node(c,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[u?"core":"checkbox"].selected=O.vakata.array_unique(this._data[u?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",O.proxy(function(e,t){var n,r,i=t.node,s=this._model.data,a=this.get_node(i.parent),t=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,d={},c=this._data[o?"core":"checkbox"].selected;for(u=0,f=c.length;u<f;u++)d[c[u]]=!0;if(-1!==t.indexOf("down"))for(var l=this._cascade_new_checked_state(i.id,!0),h=i.children_d.concat(i.id),u=0,f=h.length;u<f;u++)-1<l.indexOf(h[u])?d[h[u]]=!0:delete d[h[u]];if(-1!==t.indexOf("up"))for(;a&&a.id!==O.jstree.root;){for(u=n=0,f=a.children.length;u<f;u++)n+=s[a.children[u]].state[o?"selected":"checked"];if(n!==f)break;a.state[o?"selected":"checked"]=!0,d[a.id]=!0,(r=this.get_node(a,!0))&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}for(u in c=[],d)d.hasOwnProperty(u)&&c.push(u);this._data[o?"core":"checkbox"].selected=c},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",O.proxy(function(e,t){for(var n,r=this.get_node(O.jstree.root),i=this._model.data,s=0,a=r.children_d.length;s<a;s++)(n=i[r.children_d[s]])&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",O.proxy(function(e,t){var n,r,i,s,a=t.node,o=(this.get_node(a,!0),this.settings.checkbox.cascade),d=this.settings.checkbox.tie_selection,t=this._data[d?"core":"checkbox"].selected,c=a.children_d.concat(a.id);if(-1!==o.indexOf("down")&&(s=this._cascade_new_checked_state(a.id,!1),t=O.vakata.array_filter(t,function(e){return-1===c.indexOf(e)||-1<s.indexOf(e)})),-1!==o.indexOf("up")&&-1===t.indexOf(a.id)){for(n=0,r=a.parents.length;n<r;n++)(i=this._model.data[a.parents[n]]).state[d?"selected":"checked"]=!1,i&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1),(i=this.get_node(a.parents[n],!0))&&i.length&&i.attr("aria-selected",!1).children(".jstree-anchor").removeClass(d?"jstree-clicked":"jstree-checked");t=O.vakata.array_filter(t,function(e){return-1===a.parents.indexOf(e)})}this._data[d?"core":"checkbox"].selected=t},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",O.proxy(function(e,t){for(var n,r,i,s,a=this.get_node(t.parent),o=this._model.data,d=this.settings.checkbox.tie_selection;a&&a.id!==O.jstree.root&&!a.state[d?"selected":"checked"];){for(n=i=0,r=a.children.length;n<r;n++)i+=o[a.children[n]].state[d?"selected":"checked"];if(!(0<r&&i===r))break;a.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(a.id),(s=this.get_node(a,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}},this)).on("move_node.jstree",O.proxy(function(e,t){var n,r,i,s,a,o=t.is_multi,d=t.old_parent,t=this.get_node(t.parent),c=this._model.data,l=this.settings.checkbox.tie_selection;if(!o)for(n=this.get_node(d);n&&n.id!==O.jstree.root&&!n.state[l?"selected":"checked"];){for(i=r=0,s=n.children.length;i<s;i++)r+=c[n.children[i]].state[l?"selected":"checked"];if(!(0<s&&r===s))break;n.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=t;n&&n.id!==O.jstree.root;){for(i=r=0,s=n.children.length;i<s;i++)r+=c[n.children[i]].state[l?"selected":"checked"];if(r===s)n.state[l?"selected":"checked"]||(n.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"));else{if(!n.state[l?"selected":"checked"])break;n.state[l?"selected":"checked"]=!1,this._data[l?"core":"checkbox"].selected=O.vakata.array_remove_item(this._data[l?"core":"checkbox"].selected,n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}},this))},this.get_undetermined=function(e){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];for(var n,r,i={},s=this._model.data,t=this.settings.checkbox.tie_selection,a=this._data[t?"core":"checkbox"].selected,o=[],d=this,c=[],l=0,h=a.length;l<h;l++)if(s[a[l]]&&s[a[l]].parents)for(n=0,r=s[a[l]].parents.length;n<r&&i[s[a[l]].parents[n]]===D;n++)s[a[l]].parents[n]!==O.jstree.root&&(i[s[a[l]].parents[n]]=!0,o.push(s[a[l]].parents[n]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e,t=d.get_node(this);if(t)if(t.state.loaded){for(l=0,h=t.children_d.length;l<h;l++)if(!(e=s[t.children_d[l]]).state.loaded&&e.original&&e.original.state&&e.original.state.undetermined&&!0===e.original.state.undetermined)for(i[e.id]===D&&e.id!==O.jstree.root&&(i[e.id]=!0,o.push(e.id)),n=0,r=e.parents.length;n<r;n++)i[e.parents[n]]===D&&e.parents[n]!==O.jstree.root&&(i[e.parents[n]]=!0,o.push(e.parents[n]))}else if(t.original&&t.original.state&&t.original.state.undetermined&&!0===t.original.state.undetermined)for(i[t.id]===D&&t.id!==O.jstree.root&&(i[t.id]=!0,o.push(t.id)),n=0,r=t.parents.length;n<r;n++)i[t.parents[n]]===D&&t.parents[n]!==O.jstree.root&&(i[t.parents[n]]=!0,o.push(t.parents[n]))}),l=0,h=o.length;l<h;l++)s[o[l]].state[t?"selected":"checked"]||c.push(e?s[o[l]]:o[l]);return c},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,n,r){if(e=d.redraw_node.apply(this,arguments)){for(var i=null,s=null,a=0,o=e.childNodes.length;a<o;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){i=e.childNodes[a];break}i&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(i.className+=" jstree-checked"),s=_.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(s.className+=" jstree-checkbox-disabled"),i.insertBefore(s,i.childNodes[0]))}return n||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(O.proxy(this._undetermined,this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(e){e=this.get_node(e);var t,n,r=this.settings.checkbox.cascade,i=this.settings.checkbox.tie_selection,s=this._data[i?"core":"checkbox"].selected,a=this._model.data;if(!e||!0===e.state[i?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!e.state.loaded&&!0===e.original.state.undetermined)return!0;for(t=0,n=e.children_d.length;t<n;t++)if(-1!==O.inArray(e.children_d[t],s)||!a[e.children_d[t]].state.loaded&&a[e.children_d[t]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(e){var t,n,r;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.disable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;r=this.get_node(e,!0),e.state.checkbox_disabled||(e.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:e}))},this.enable_checkbox=function(e){var t,n,r;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.enable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;r=this.get_node(e,!0),e.state.checkbox_disabled&&(e.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:e}))},this.activate_node=function(e,t){return!O(t.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||O(t.target).hasClass("jstree-checkbox"))&&(t.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!O(t.target).hasClass("jstree-checkbox")?d.activate_node.call(this,e,t):!this.is_disabled(e)&&(this.is_checked(e)?this.uncheck_node(e,t):this.check_node(e,t),void this.trigger("activate_node",{node:this.get_node(e)})))},this._cascade_new_checked_state=function(e,t){var n,r,i=this.settings.checkbox.tie_selection,s=this._model.data[e],a=[],o=[];if(!this.settings.checkbox.cascade_to_disabled&&s.state.disabled||!this.settings.checkbox.cascade_to_hidden&&s.state.hidden)c=this.get_checked_descendants(e),s.state[i?"selected":"checked"]&&c.push(s.id),a=a.concat(c);else{if(s.children)for(n=0,r=s.children.length;n<r;n++){var d=s.children[n],c=this._cascade_new_checked_state(d,t),a=a.concat(c);-1<c.indexOf(d)&&o.push(d)}var l=this.get_node(s,!0),e=0<o.length&&o.length<s.children.length;s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=e),!e&&t&&o.length===s.children.length?(s.state[i?"selected":"checked"]=t,a.push(s.id),l.attr("aria-selected",!0).children(".jstree-anchor").addClass(i?"jstree-clicked":"jstree-checked")):(s.state[i?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(i?"jstree-clicked":"jstree-checked"))}return a},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection,e=t._model.data[e];return O.vakata.array_filter(e.children_d,function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.select_node(e,!1,!0,t);var n,r,i;if(O.isArray(e)){for(r=0,i=(e=e.slice()).length;r<i;r++)this.check_node(e[r],t);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;n=this.get_node(e,!0),e.state.checked||(e.state.checked=!0,this._data.checkbox.selected.push(e.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.uncheck_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.deselect_node(e,!1,t);var n,r,i;if(O.isArray(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.uncheck_node(e[n],t);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;i=this.get_node(e,!0),e.state.checked&&(e.state.checked=!1,this._data.checkbox.selected=O.vakata.array_remove_item(this._data.checkbox.selected,e.id),i.length&&i.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,t;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[O.jstree.root].children_d.concat(),e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var e=this._data.checkbox.selected.concat([]),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:e})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.state.checked},this.get_checked=function(e){return this.settings.checkbox.tie_selection?this.get_selected(e):e?O.map(this._data.checkbox.selected,O.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_top_selected(e);for(var t,n,r=this.get_checked(!0),i={},s=0,a=r.length;s<a;s++)i[r[s].id]=r[s];for(s=0,a=r.length;s<a;s++)for(t=0,n=r[s].children_d.length;t<n;t++)i[r[s].children_d[t]]&&delete i[r[s].children_d[t]];for(s in r=[],i)i.hasOwnProperty(s)&&r.push(s);return e?O.map(r,O.proxy(function(e){return this.get_node(e)},this)):r},this.get_bottom_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(e);for(var t=this.get_checked(!0),n=[],r=0,i=t.length;r<i;r++)t[r].children.length||n.push(t[r].id);return e?O.map(n,O.proxy(function(e){return this.get_node(e)},this)):n},this.load_node=function(e,t){var n,r,i;if(!O.isArray(e)&&!this.settings.checkbox.tie_selection&&(i=this.get_node(e))&&i.state.loaded)for(n=0,r=i.children_d.length;n<r;n++)this._model.data[i.children_d[n]].state.checked&&(this._data.checkbox.selected=O.vakata.array_remove_item(this._data.checkbox.selected,i.children_d[n]));return d.load_node.apply(this,arguments)},this.get_state=function(){var e=d.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(e,t){var n,r=d.set_state.apply(this,arguments);return r&&e.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),n=this,O.each(e.checkbox,function(e,t){n.check_node(t)})),delete e.checkbox,this.set_state(e,t),!1):r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),d.refresh.apply(this,arguments)}},O.jstree.defaults.conditionalselect=function(){return!0},O.jstree.plugins.conditionalselect=function(e,n){this.activate_node=function(e,t){if(this.settings.conditionalselect.call(this,this.get_node(e),t))return n.activate_node.call(this,e,t)}},O.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,t){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var n=O.jstree.reference(e.reference),e=n.get_node(e.reference);n.create_node(e,{},"last",function(t){try{n.edit(t)}catch(e){setTimeout(function(){n.edit(t)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.edit(e)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.delete_node(t.get_selected()):t.delete_node(e)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.cut(t.get_top_selected()):t.cut(e)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.copy(t.get_top_selected()):t.copy(e)}},paste:{separator_before:!1,icon:!1,_disabled:function(e){return!O.jstree.reference(e.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.paste(e)}}}}}}},O.jstree.plugins.contextmenu=function(e,s){this.bind=function(){s.bind.call(this);var t,n,r=0,i=null;this.element.on("init.jstree loading.jstree ready.jstree",O.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",O.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||i)&&(r=+new Date+1e4),i&&clearTimeout(i),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",O.proxy(function(e){this._data.contextmenu.visible&&(!r||250<+new Date-r)&&O.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(e){e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].clientX,n=e.originalEvent.changedTouches[0].clientY,i=setTimeout(function(){O(e.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){i&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(10<Math.abs(t-e.originalEvent.changedTouches[0].clientX)||10<Math.abs(n-e.originalEvent.changedTouches[0].clientY))&&(clearTimeout(i),O.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){i&&clearTimeout(i)}),O(x).on("context_hide.vakata.jstree",O.proxy(function(e,t){this._data.contextmenu.visible=!1,O(t.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&O.vakata.context.hide(),s.teardown.call(this)},this.show_contextmenu=function(t,n,r,e){if(!(t=this.get_node(t))||t.id===O.jstree.root)return!1;var i,s=this.settings.contextmenu,a=this.get_node(t,!0).children(".jstree-anchor"),o=!1;!s.show_at_node&&n!==D&&r!==D||(i=a.offset(),n=i.left,r=i.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(t)&&this.activate_node(t,e),o=s.items,O.isFunction(o)&&(o=o.call(this,t,O.proxy(function(e){this._show_contextmenu(t,n,r,e)},this))),O.isPlainObject(o)&&this._show_contextmenu(t,n,r,o)},this._show_contextmenu=function(e,t,n,r){var i=this.get_node(e,!0).children(".jstree-anchor");O(x).one("context_show.vakata.jstree",O.proxy(function(e,t){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";O(t.element).addClass(n),i.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,O.vakata.context.show(i,{x:t,y:n},r),this.trigger("show_contextmenu",{node:e,x:t,y:n})}},u={element:h=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(l=O).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){l(x).triggerHandler("context_"+e+".vakata",{reference:u.reference,element:u.element,position:{x:u.position_x,y:u.position_y}})},_execute:function(e){return!(!(e=u.items[e])||e._disabled&&(!l.isFunction(e._disabled)||e._disabled({item:e,reference:u.reference,element:u.element}))||!e.action)&&e.action.call(null,{item:e,reference:u.reference,element:u.element,position:{x:u.position_x,y:u.position_y}})},_parse:function(e,t){if(!e)return!1;t||(u.html="",u.items=[]);var n,r="",i=!1;return t&&(r+="<ul>"),l.each(e,function(e,t){return!t||(u.items.push(t),!i&&t.separator_before&&(r+="<li class='vakata-context-separator'><a href='#' "+(l.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),i=!1,r+="<li class='"+(t._class||"")+(!0===t._disabled||l.isFunction(t._disabled)&&t._disabled({item:t,reference:u.reference,element:u.element})?" vakata-contextmenu-disabled ":"")+"' "+(t.shortcut?" data-shortcut='"+t.shortcut+"' ":"")+">",r+="<a href='#' rel='"+(u.items.length-1)+"' "+(t.title?"title='"+t.title+"'":"")+">",l.vakata.context.settings.icons&&(r+="<i ",t.icon&&(-1!==t.icon.indexOf("/")||-1!==t.icon.indexOf(".")?r+=" style='background:url(\""+t.icon+"\") center center no-repeat' ":r+=" class='"+t.icon+"' "),r+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),r+=(l.isFunction(t.label)?t.label({item:e,reference:u.reference,element:u.element}):t.label)+(t.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+t.shortcut+'">'+(t.shortcut_label||"")+"</span>":"")+"</a>",t.submenu&&(n=l.vakata.context._parse(t.submenu,!0))&&(r+=n),r+="</li>",void(t.separator_after&&(r+="<li class='vakata-context-separator'><a href='#' "+(l.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",i=!0)))}),r=r.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(r+="</ul>"),t||(u.html=r,l.vakata.context._trigger("parse")),10<r.length&&r},_show_submenu:function(e){var t,n,r,i,s,a,o,d;(e=l(e)).length&&e.children("ul").length&&(t=e.children("ul"),r=(n=e.offset().left)+e.outerWidth(),i=e.offset().top,s=t.width(),a=t.height(),o=l(window).width()+l(window).scrollLeft(),d=l(window).height()+l(window).scrollTop(),h?e[r-(s+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[o<r+s&&o-r<n?"addClass":"removeClass"]("vakata-context-right"),d<i+a+10&&t.css("bottom","-1px"),e.hasClass("vakata-context-right")?n<s&&t.css("margin-right",n-s):o-r<s&&t.css("margin-left",o-r-s),t.show())},show:function(e,t,n){var r,i,s,a,o,d,c;switch(u.element&&u.element.length&&u.element.width(""),!0){case!t&&!e:return!1;case!!t&&!!e:u.reference=e,u.position_x=t.x,u.position_y=t.y;break;case!t&&!!e:r=(u.reference=e).offset(),u.position_x=r.left+e.outerHeight(),u.position_y=r.top;break;case!!t&&!e:u.position_x=t.x,u.position_y=t.y}e&&!n&&l(e).data("vakata_contextmenu")&&(n=l(e).data("vakata_contextmenu")),l.vakata.context._parse(n)&&u.element.html(u.html),u.items.length&&(u.element.appendTo(x.body),i=u.element,s=u.position_x,a=u.position_y,o=i.width(),d=i.height(),c=l(window).width()+l(window).scrollLeft(),n=l(window).height()+l(window).scrollTop(),h&&(s-=i.outerWidth()-l(e).outerWidth())<l(window).scrollLeft()+20&&(s=l(window).scrollLeft()+20),c<s+o+20&&(s=c-(o+20)),n<a+d+20&&(a=n-(d+20)),u.element.css({left:s,top:a}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),u.is_visible=!0,l.vakata.context._trigger("show"))},hide:function(){u.is_visible&&(u.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),u.is_visible=!1,l.vakata.context._trigger("hide"))}},l(function(){h="rtl"===l(x.body).css("direction");var t=!1;u.element=l("<ul class='vakata-context'></ul>"),u.element.on("mouseenter","li",function(e){e.stopImmediatePropagation(),l.contains(this,e.relatedTarget)||(t&&clearTimeout(t),u.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),l(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),l.vakata.context._show_submenu(this))}).on("mouseleave","li",function(e){l.contains(this,e.relatedTarget)||l(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(e){l(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),l.vakata.context.settings.hide_onmouseleave&&(t=setTimeout(function(){l.vakata.context.hide()},l.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),l(this).blur().parent().hasClass("vakata-context-disabled")||!1===l.vakata.context._execute(l(this).attr("rel"))||l.vakata.context.hide()}).on("keydown","a",function(e){var t=null;switch(e.which){case 13:case 32:e.type="click",e.preventDefault(),l(e.currentTarget).trigger(e);break;case 37:u.is_visible&&(u.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 38:u.is_visible&&((t=u.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(t=u.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 39:u.is_visible&&(u.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 40:u.is_visible&&((t=u.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(t=u.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 27:l.vakata.context.hide(),e.preventDefault()}}).on("keydown",function(e){e.preventDefault();e=u.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();e.parent().not(".vakata-context-disabled")&&e.click()}),l(x).on("mousedown.vakata.jstree",function(e){u.is_visible&&u.element[0]!==e.target&&!l.contains(u.element[0],e.target)&&l.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,t){u.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),h&&u.element.addClass("vakata-context-rtl").css("direction","rtl"),u.element.find("ul").hide().end()})}),O.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},O.jstree.plugins.dnd=function(e,o){this.init=function(e,t){o.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in x.createElement("span")},this.bind=function(){o.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",O.proxy(function(e){if(this.settings.dnd.large_drag_target&&O(e.target).closest(".jstree-node")[0]!==e.currentTarget)return!0;if("touchstart"===e.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var t=this.get_node(e.target),n=this.is_selected(t)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=1<n?n+" "+this.get_string("nodes"):this.get_text(e.currentTarget);if(this.settings.core.force_text&&(r=O.vakata.html.escape(r)),t&&t.id&&t.id!==O.jstree.root&&(1===e.which||"touchstart"===e.type||"dragstart"===e.type)&&(!0===this.settings.dnd.is_draggable||O.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<n?this.get_top_selected(!0):[t],e))){if(d={jstree:!0,origin:this,obj:this.get_node(t,!0),nodes:1<n?this.get_top_selected():[t.id]},f=e.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),O.vakata.dnd.start(e,d,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>');O.vakata.dnd._trigger("start",e,{helper:O(),element:f,data:d})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(e){return e.preventDefault(),O.vakata.dnd._trigger("move",e,{helper:O(),element:f,data:d}),!1}).on("drop.jstree",O.proxy(function(e){return e.preventDefault(),O.vakata.dnd._trigger("stop",e,{helper:O(),element:f,data:d}),!1},this))},this.redraw_node=function(e,t,n,r){if((e=o.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{for(var i=null,s=0,a=e.childNodes.length;s<a;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){i=e.childNodes[s];break}i&&i.setAttribute("draggable",!0)}return e}},O(function(){var T=!1,A=!1,N=!1,S=!1,E=O('<div id="jstree-marker">&#160;</div>').hide();O(x).on("dragover.vakata.jstree",function(e){f&&O.vakata.dnd._trigger("move",e,{helper:O(),element:f,data:d})}).on("drop.vakata.jstree",function(e){f&&(O.vakata.dnd._trigger("stop",e,{helper:O(),element:f,data:d}),d=f=null)}).on("dnd_start.vakata.jstree",function(e,t){N=T=!1,t&&t.data&&t.data.jstree&&E.appendTo(x.body)}).on("dnd_move.vakata.jstree",function(e,i){var s=i.event.target!==N.target;if(S&&(i.event&&"dragover"===i.event.type&&!s||clearTimeout(S)),i&&i.data&&i.data.jstree&&(!i.event.target.id||"jstree-marker"!==i.event.target.id)){N=i.event;var a,t,o,d,c,l,h,u,f,p,g,_,m,v,y,x,j,b,k,w=O.jstree.reference(i.event.target),C=!1;if(w&&w._data&&w._data.dnd)if(E.attr("class","jstree-"+w.get_theme()+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")),j=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey)),i.helper.children().attr("class","jstree-"+w.get_theme()+" jstree-"+w.get_theme()+"-"+w.get_theme_variant()+" "+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[j?"show":"hide"](),i.event.target!==w.element[0]&&i.event.target!==w.get_container_ul()[0]||0!==w.get_container_ul().children().length){if(C=w.settings.dnd.large_drop_target?O(i.event.target).closest(".jstree-node").children(".jstree-anchor"):O(i.event.target).closest(".jstree-anchor"),C&&C.length&&C.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(a=C.offset(),t=(i.event.pageY!==D?i.event:i.event.originalEvent).pageY-a.top,c=C.outerHeight(),u=t<c/3?["b","i","a"]:c-c/3<t?["a","i","b"]:c/2<t?["i","a","b"]:["i","b","a"],O.each(u,function(e,t){switch(t){case"b":o=a.left-6,d=a.top,l=w.get_parent(C),h=C.parent().index(),k="jstree-below";break;case"i":y=w.settings.dnd.inside_pos,x=w.get_node(C.parent()),o=a.left-2,d=a.top+c/2+1,l=x.id,h="first"===y?0:"last"===y?x.children.length:Math.min(y,x.children.length),k="jstree-inside";break;case"a":o=a.left-6,d=a.top+c,l=w.get_parent(C),h=C.parent().index()+1,k="jstree-above"}for(f=!0,p=0,g=i.data.nodes.length;p<g;p++)if(_=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",m=h,"move_node"==_&&"a"===t&&i.data.origin&&i.data.origin===w&&l===w.get_parent(i.data.nodes[p])&&(v=w.get_node(l),m>O.inArray(i.data.nodes[p],v.children)&&--m),!(f=f&&(w&&w.settings&&w.settings.dnd&&!1===w.settings.dnd.check_while_dragging||w.check(_,i.data.origin&&i.data.origin!==w?i.data.origin.get_node(i.data.nodes[p]):i.data.nodes[p],l,m,{dnd:!0,ref:w.get_node(C.parent()),pos:t,origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==w,is_foreign:!i.data.origin})))){w&&w.last_error&&(A=w.last_error());break}var n,r;if("i"===t&&C.parent().is(".jstree-closed")&&w.settings.dnd.open_timeout&&(i.event&&"dragover"===i.event.type&&!s||(S&&clearTimeout(S),S=setTimeout((r=C,function(){n.open_node(r)}),(n=w).settings.dnd.open_timeout))),f)return(b=w.get_node(l,!0)).hasClass(".jstree-dnd-parent")||(O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),b.addClass("jstree-dnd-parent")),T={ins:w,par:l,pos:"i"!==t||"last"!==y||0!==h||w.is_loaded(x)?h:"last"},E.css({left:o+"px",top:d+"px"}).show(),E.removeClass("jstree-above jstree-inside jstree-below").addClass(k),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"),A={},!(u=!0)}),!0===u))return}else{for(f=!0,p=0,g=i.data.nodes.length;p<g&&(f=f&&w.check(i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",i.data.origin&&i.data.origin!==w?i.data.origin.get_node(i.data.nodes[p]):i.data.nodes[p],O.jstree.root,"last",{dnd:!0,ref:w.get_node(O.jstree.root),pos:"i",origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==w,is_foreign:!i.data.origin}));p++);if(f)return T={ins:w,par:O.jstree.root,pos:"last"},E.hide(),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"))}O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T=!1,i.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),i.event.originalEvent&&i.event.originalEvent.dataTransfer,E.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(E.hide(),N=T=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(e,t){if(O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),S&&clearTimeout(S),t&&t.data&&t.data.jstree){E.hide().detach();var n,r,i=[];if(T){for(n=0,r=t.data.nodes.length;n<r;n++)i[n]=t.data.origin?t.data.origin.get_node(t.data.nodes[n]):t.data.nodes[n];T.ins[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(t.event.metaKey||t.event.ctrlKey))?"copy_node":"move_node"](i,T.par,T.pos,!1,!1,!1,t.data.origin)}else(n=O(t.event.target).closest(".jstree")).length&&A&&A.error&&"check"===A.error&&(n=n.jstree(!0))&&n.settings.core.error.call(this,A);T=N=!1}}).on("keyup.jstree keydown.jstree",function(e,t){(t=O.vakata.dnd._get())&&t.data&&t.data.jstree&&("keyup"===e.type&&27===e.which?(S&&clearTimeout(S),S=N=A=T=!1,E.hide().detach(),O.vakata.dnd._clean()):(t.helper.find(".jstree-copy").first()[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(e.metaKey||e.ctrlKey))?"show":"hide"](),N&&(N.metaKey=e.metaKey,N.ctrlKey=e.ctrlKey,O.vakata.dnd._trigger("move",N))))})}),g={element:!((p=O).vakata.html={div:p("<div></div>"),escape:function(e){return p.vakata.html.div.text(e).html()},strip:function(e){return p.vakata.html.div.empty().append(p.parseHTML(e)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},p.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(e,t,n){n===D&&(n=p.vakata.dnd._get()),n.event=t,p(x).triggerHandler("dnd_"+e+".vakata",n)},_get:function(){return{data:g.data,element:g.element,helper:g.helper}},_clean:function(){g.helper&&g.helper.remove(),g.scroll_i&&(clearInterval(g.scroll_i),g.scroll_i=!1),g={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},f=null,p(x).off("mousemove.vakata.jstree touchmove.vakata.jstree",p.vakata.dnd.drag),p(x).off("mouseup.vakata.jstree touchend.vakata.jstree",p.vakata.dnd.stop)},_scroll:function(e){if(!g.scroll_e||!g.scroll_l&&!g.scroll_t)return g.scroll_i&&(clearInterval(g.scroll_i),g.scroll_i=!1),!1;if(!g.scroll_i)return g.scroll_i=setInterval(p.vakata.dnd._scroll,100),!1;if(!0===e)return!1;var t=g.scroll_e.scrollTop(),e=g.scroll_e.scrollLeft();g.scroll_e.scrollTop(t+g.scroll_t*p.vakata.dnd.settings.scroll_speed),g.scroll_e.scrollLeft(e+g.scroll_l*p.vakata.dnd.settings.scroll_speed),t===g.scroll_e.scrollTop()&&e===g.scroll_e.scrollLeft()||p.vakata.dnd._trigger("scroll",g.scroll_e)},start:function(e,t,n){"touchstart"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=x.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),g.is_drag&&p.vakata.dnd.stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.touchAction="none",e.currentTarget.style.msTouchAction="none",e.currentTarget.style.MozUserSelect="none")}catch(e){}return g.init_x=e.pageX,g.init_y=e.pageY,g.data=t,g.is_down=!0,g.element=e.currentTarget,g.target=e.target,g.is_touch="touchstart"===e.type,!1!==n&&(g.helper=p("<div id='vakata-dnd'></div>").html(n).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),p(x).on("mousemove.vakata.jstree touchmove.vakata.jstree",p.vakata.dnd.drag),p(x).on("mouseup.vakata.jstree touchend.vakata.jstree",p.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=x.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),g.is_down){if(!g.is_drag){if(!(Math.abs(n.pageX-g.init_x)>(g.is_touch?p.vakata.dnd.settings.threshold_touch:p.vakata.dnd.settings.threshold)||Math.abs(n.pageY-g.init_y)>(g.is_touch?p.vakata.dnd.settings.threshold_touch:p.vakata.dnd.settings.threshold)))return;g.helper&&(g.helper.appendTo(x.body),g.helper_w=g.helper.outerWidth()),g.is_drag=!0,p(g.target).one("click.vakata",!1),p.vakata.dnd._trigger("start",n)}var e,t,r,i,s=!1,a=!1,o=!1,d=!1,c=!1,l=!1;return g.scroll_t=0,g.scroll_l=0,g.scroll_e=!1,p(p(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(p(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var e=p(this),t=e.offset();if(this.scrollHeight>this.offsetHeight&&(t.top+e.height()-n.pageY<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_t=1),n.pageY-t.top<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(t.left+e.width()-n.pageX<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_l=1),n.pageX-t.left<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_l=-1)),g.scroll_t||g.scroll_l)return g.scroll_e=p(this),!1}),g.scroll_e||(s=p(x),a=p(window),o=s.height(),e=a.height(),d=s.width(),t=a.width(),r=s.scrollTop(),i=s.scrollLeft(),e<o&&n.pageY-r<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_t=-1),e<o&&e-(n.pageY-r)<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_t=1),t<d&&n.pageX-i<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_l=-1),t<d&&t-(n.pageX-i)<p.vakata.dnd.settings.scroll_proximity&&(g.scroll_l=1),(g.scroll_t||g.scroll_l)&&(g.scroll_e=s)),g.scroll_e&&p.vakata.dnd._scroll(!0),g.helper&&(c=parseInt(n.pageY+p.vakata.dnd.settings.helper_top,10),l=parseInt(n.pageX+p.vakata.dnd.settings.helper_left,10),o&&o<c+25&&(c=o-50),d&&l+g.helper_w>d&&(l=d-(g.helper_w+2)),g.helper.css({left:l+"px",top:c+"px"})),p.vakata.dnd._trigger("move",n),!1}},stop:function(e){var t;return"touchend"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=x.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),g.is_drag?(e.target!==g.target&&p(g.target).off("click.vakata"),p.vakata.dnd._trigger("stop",e)):"touchend"===e.type&&e.target===g.target&&(t=setTimeout(function(){p(e.target).click()},100),p(e.target).one("click",function(){t&&clearTimeout(t)})),p.vakata.dnd._clean(),!1}},O.jstree.defaults.massload=null,O.jstree.plugins.massload=function(e,l){this.init=function(e,t){this._data.massload={},l.init.call(this,e,t)},this._load_nodes=function(s,a,o,d){var e,t,c,n=this.settings.massload,r=[],i=this._model.data;if(!o){for(e=0,t=s.length;e<t;e++)i[s[e]]&&(i[s[e]].state.loaded||i[s[e]].state.failed)&&!d||(r.push(s[e]),(c=this.get_node(s[e],!0))&&c.length&&c.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},r.length){if(O.isFunction(n))return n.call(this,r,O.proxy(function(e){var t,n;if(e)for(t in e)e.hasOwnProperty(t)&&(this._data.massload[t]=e[t]);for(t=0,n=s.length;t<n;t++)(c=this.get_node(s[t],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);l._load_nodes.call(this,s,a,o,d)},this));if("object"==typeof n&&n&&n.url)return n=O.extend(!0,{},n),O.isFunction(n.url)&&(n.url=n.url.call(this,r)),O.isFunction(n.data)&&(n.data=n.data.call(this,r)),O.ajax(n).done(O.proxy(function(e,t,n){var r,i;if(e)for(r in e)e.hasOwnProperty(r)&&(this._data.massload[r]=e[r]);for(r=0,i=s.length;r<i;r++)(c=this.get_node(s[r],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);l._load_nodes.call(this,s,a,o,d)},this)).fail(O.proxy(function(e){l._load_nodes.call(this,s,a,o,d)},this))}}return l._load_nodes.call(this,s,a,o,d)},this._load_node=function(e,t){var n,r=this._data.massload[e.id];return r?(n=this["string"==typeof r?"_append_html_data":"_append_json_data"](e,"string"==typeof r?O(O.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(e){t.call(this,e)}),(r=this.get_node(e.id,!0))&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[e.id],n):l._load_node.call(this,e,t)}},O.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},O.jstree.plugins.search=function(e,o){this.bind=function(){o.bind.call(this),this._data.search.str="",this._data.search.dom=O(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",O.proxy(function(e,t){if(this._data.search.som&&t.res.length){for(var n,r,i=this._model.data,s=[],a=0,o=t.res.length;a<o;a++)if(i[t.res[a]]&&!i[t.res[a]].state.hidden&&(s.push(t.res[a]),s=s.concat(i[t.res[a]].parents),this._data.search.smc))for(n=0,r=i[t.res[a]].children_d.length;n<r;n++)i[i[t.res[a]].children_d[n]]&&!i[i[t.res[a]].children_d[n]].state.hidden&&s.push(i[t.res[a]].children_d[n]);s=O.vakata.array_remove_item(O.vakata.array_unique(s),O.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(s,!0),this.redraw(!0)}},this)).on("clear_search.jstree",O.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(r,e,t,n,i,s){if(!1===r||""===O.trim(r.toString()))return this.clear_search();n=(n=this.get_node(n))&&n.id?n.id:null,r=r.toString();var a,o,d=this.settings.search,c=d.ajax||!1,l=this._model.data,h=null,u=[],f=[];if(this._data.search.res.length&&!i&&this.clear_search(),t===D&&(t=d.show_only_matches),s===D&&(s=d.show_only_matches_children),!e&&!1!==c)return O.isFunction(c)?c.call(this,r,O.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(O.isArray(e)?O.vakata.array_unique(e):[],function(){this.search(r,!0,t,n,i,s)})},this),n):((c=O.extend({},c)).data||(c.data={}),c.data.str=r,n&&(c.data.inside=n),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=O.ajax(c).fail(O.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(c)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(O.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(O.isArray(e)?O.vakata.array_unique(e):[],function(){this.search(r,!0,t,n,i,s)})},this)),this._data.search.lastRequest);if(i||(this._data.search.str=r,this._data.search.dom=O(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=t,this._data.search.smc=s),h=new O.vakata.search(r,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),O.each(l[n||O.jstree.root].children_d,function(e,t){var n=l[t];n.text&&!n.state.hidden&&(!d.search_leaves_only||n.state.loaded&&0===n.children.length)&&(d.search_callback&&d.search_callback.call(this,r,n)||!d.search_callback&&h.search(n.text).isMatch)&&(u.push(t),f=f.concat(n.parents))}),u.length){for(a=0,o=(f=O.vakata.array_unique(f)).length;a<o;a++)f[a]!==O.jstree.root&&l[f[a]]&&!0===this.open_node(f[a],null,0)&&this._data.search.opn.push(f[a]);i?(this._data.search.dom=this._data.search.dom.add(O(this.element[0].querySelectorAll("#"+O.map(u,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=O.vakata.array_unique(this._data.search.res.concat(u))):(this._data.search.dom=O(this.element[0].querySelectorAll("#"+O.map(u,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=u),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:r,res:this._data.search.res,show_only_matches:t})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=O(this.element[0].querySelectorAll("#"+O.map(this._data.search.res,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=O()},this.redraw_node=function(e,t,n,r){if(e=o.redraw_node.apply(this,arguments),e&&-1!==O.inArray(e.id,this._data.search.res)){for(var i=null,s=0,a=e.childNodes.length;s<a;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){i=e.childNodes[s];break}i&&(i.className+=" jstree-search")}return e}},(w=O).vakata.search=function(_,e,m){m=m||{},!1!==(m=w.extend({},w.vakata.search.defaults,m)).fuzzy&&(m.fuzzy=!0),_=m.caseSensitive?_:_.toLowerCase();var v,y,x,t,j=m.location,n=m.distance,b=m.threshold,k=_.length;return 32<k&&(m.fuzzy=!1),m.fuzzy&&(v=1<<k-1,y=function(){for(var e={},t=0,t=0;t<k;t++)e[_.charAt(t)]=0;for(t=0;t<k;t++)e[_.charAt(t)]|=1<<k-t-1;return e}(),x=function(e,t){e/=k,t=Math.abs(j-t);return n?e+t/n:t?1:e}),t=function(e){if(e=m.caseSensitive?e:e.toLowerCase(),_===e||-1!==e.indexOf(_))return{isMatch:!0,score:0};if(!m.fuzzy)return{isMatch:!1,score:1};var t,n,r,i,s,a,o,d,c,l=e.length,h=b,u=e.indexOf(_,j),f=k+l,p=1,g=[];for(-1!==u&&(h=Math.min(x(0,u),h),-1!==(u=e.lastIndexOf(_,j+k))&&(h=Math.min(x(0,u),h))),u=-1,t=0;t<k;t++){for(r=0,i=f;r<i;)x(t,j+i)<=h?r=i:f=i,i=Math.floor((f-r)/2+r);for(f=i,a=Math.max(1,j-i+1),o=Math.min(j+i,l)+k,(d=new Array(o+2))[o+1]=(1<<t)-1,n=o;a<=n;n--)if(c=y[e.charAt(n-1)],d[n]=0===t?(d[n+1]<<1|1)&c:(d[n+1]<<1|1)&c|(s[n+1]|s[n])<<1|1|s[n+1],d[n]&v&&(p=x(t,n-1))<=h){if(h=p,u=n-1,g.push(u),!(j<u))break;a=Math.max(1,2*j-u)}if(x(t+1,j)>h)break;s=d}return{isMatch:0<=u,score:p}},!0===e?{search:t}:t(e)},w.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},O.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1};var m=!(O.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",O.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",O.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",O.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(e,t){var n,r;if(e=this.get_node(e),e&&e.children&&e.children.length&&(e.children.sort(O.proxy(this.settings.sort,this)),t))for(n=0,r=e.children_d.length;n<r;n++)this.sort(e.children_d[n],!1)}});O.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},O.jstree.plugins.state=function(e,t){this.bind=function(){t.bind.call(this);var n=O.proxy(function(){this.element.on(this.settings.state.events,O.proxy(function(){m&&clearTimeout(m),m=setTimeout(O.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",O.proxy(function(e,t){this.element.one("restore_state.jstree",n),this.restore_state()||n()},this))},this.save_state=function(){var e=this.get_state();this.settings.state.preserve_loaded||delete e.core.loaded;e={state:e,ttl:this.settings.state.ttl,sec:+new Date};O.vakata.storage.set(this.settings.state.key,JSON.stringify(e))},this.restore_state=function(){var n=O.vakata.storage.get(this.settings.state.key);if(n)try{n=JSON.parse(n)}catch(e){return!1}return!(n&&n.ttl&&n.sec&&+new Date-n.sec>n.ttl)&&(n&&n.state&&(n=n.state),n&&O.isFunction(this.settings.state.filter)&&(n=this.settings.state.filter.call(this,n)),!!n&&(this.settings.state.preserve_loaded||delete n.core.loaded,this.element.one("set_state.jstree",function(e,t){t.instance.trigger("restore_state",{state:O.extend(!0,{},n)})}),this.set_state(n),!0))},this.clear_state=function(){return O.vakata.storage.del(this.settings.state.key)}},O.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}},O.jstree.defaults.types={default:{}},O.jstree.defaults.types[O.jstree.root]={},O.jstree.plugins.types=function(e,l){this.init=function(e,t){var n,r;if(t&&t.types&&t.types.default)for(n in t.types)if("default"!==n&&n!==O.jstree.root&&t.types.hasOwnProperty(n))for(r in t.types.default)t.types.default.hasOwnProperty(r)&&t.types[n][r]===D&&(t.types[n][r]=t.types.default[r]);l.init.call(this,e,t),this._model.data[O.jstree.root].type=O.jstree.root},this.refresh=function(e,t){l.refresh.call(this,e,t),this._model.data[O.jstree.root].type=O.jstree.root},this.bind=function(){this.element.on("model.jstree",O.proxy(function(e,t){for(var n,r=this._model.data,i=t.nodes,s=this.settings.types,a="default",o=0,d=i.length;o<d;o++){if(a="default",r[i[o]].original&&r[i[o]].original.type&&s[r[i[o]].original.type]&&(a=r[i[o]].original.type),r[i[o]].data&&r[i[o]].data.jstree&&r[i[o]].data.jstree.type&&s[r[i[o]].data.jstree.type]&&(a=r[i[o]].data.jstree.type),r[i[o]].type=a,!0===r[i[o]].icon&&s[a].icon!==D&&(r[i[o]].icon=s[a].icon),s[a].li_attr!==D&&"object"==typeof s[a].li_attr)for(n in s[a].li_attr)s[a].li_attr.hasOwnProperty(n)&&"id"!==n&&(r[i[o]].li_attr[n]===D?r[i[o]].li_attr[n]=s[a].li_attr[n]:"class"===n&&(r[i[o]].li_attr.class=s[a].li_attr.class+" "+r[i[o]].li_attr.class));if(s[a].a_attr!==D&&"object"==typeof s[a].a_attr)for(n in s[a].a_attr)s[a].a_attr.hasOwnProperty(n)&&"id"!==n&&(r[i[o]].a_attr[n]===D?r[i[o]].a_attr[n]=s[a].a_attr[n]:"href"===n&&"#"===r[i[o]].a_attr[n]?r[i[o]].a_attr.href=s[a].a_attr.href:"class"===n&&(r[i[o]].a_attr.class=s[a].a_attr.class+" "+r[i[o]].a_attr.class))}r[O.jstree.root].type=O.jstree.root},this)),l.bind.call(this)},this.get_json=function(e,t,n){var r,i,s=this._model.data,a=t?O.extend(!0,{},t,{no_id:!1}):{},o=l.get_json.call(this,e,a,n);if(!1===o)return!1;if(O.isArray(o))for(r=0,i=o.length;r<i;r++)o[r].type=o[r].id&&s[o[r].id]&&s[o[r].id].type?s[o[r].id].type:"default",t&&t.no_id&&(delete o[r].id,o[r].li_attr&&o[r].li_attr.id&&delete o[r].li_attr.id,o[r].a_attr&&o[r].a_attr.id&&delete o[r].a_attr.id);else o.type=o.id&&s[o.id]&&s[o.id].type?s[o.id].type:"default",t&&t.no_id&&(o=this._delete_ids(o));return o},this._delete_ids=function(e){if(O.isArray(e)){for(var t=0,n=e.length;t<n;t++)e[t]=this._delete_ids(e[t]);return e}return delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id,e.children&&O.isArray(e.children)&&(e.children=this._delete_ids(e.children)),e},this.check=function(e,t,n,r,i){if(!1===l.check.call(this,e,t,n,r,i))return!1;t=t&&t.id?t:this.get_node(t),n=n&&n.id?n:this.get_node(n);var s,a,o,d,c=(c=t&&t.id?i&&i.origin?i.origin:O.jstree.reference(t.id):null)&&c._model&&c._model.data?c._model.data:null;switch(e){case"create_node":case"move_node":case"copy_node":if("move_node"!==e||-1===O.inArray(t.id,n.children)){if((s=this.get_rules(n)).max_children!==D&&-1!==s.max_children&&s.max_children===n.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(s.valid_children!==D&&-1!==s.valid_children&&-1===O.inArray(t.type||"default",s.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(c&&t.children_d&&t.parents){for(o=a=0,d=t.children_d.length;o<d;o++)a=Math.max(a,c[t.children_d[o]].parents.length);a=a-t.parents.length+1}(a<=0||a===D)&&(a=1);do{if(s.max_depth!==D&&-1!==s.max_depth&&s.max_depth<a)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})}while(n=this.get_node(n.parent),s=this.get_rules(n),a++,n)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;e=this.get_type(e,!0);return e.max_depth===D&&(e.max_depth=-1),e.max_children===D&&(e.max_children=-1),e.valid_children===D&&(e.valid_children=-1),e},this.get_type=function(e,t){return!!(e=this.get_node(e))&&(t?O.extend({type:e.type},this.settings.types[e.type]):e.type)},this.set_type=function(e,t){var n,r,i,s,a,o,d,c,l=this._model.data;if(O.isArray(e)){for(r=0,i=(e=e.slice()).length;r<i;r++)this.set_type(e[r],t);return!0}if(n=this.settings.types,e=this.get_node(e),!n[t]||!e)return!1;if((d=this.get_node(e,!0))&&d.length&&(c=d.children(".jstree-anchor")),s=e.type,a=this.get_icon(e),e.type=t,!0!==a&&n[s]&&(n[s].icon===D||a!==n[s].icon)||this.set_icon(e,n[t].icon===D||n[t].icon),n[s]&&n[s].li_attr!==D&&"object"==typeof n[s].li_attr)for(o in n[s].li_attr)n[s].li_attr.hasOwnProperty(o)&&"id"!==o&&("class"===o?(l[e.id].li_attr.class=(l[e.id].li_attr.class||"").replace(n[s].li_attr[o],""),d&&d.removeClass(n[s].li_attr[o])):l[e.id].li_attr[o]===n[s].li_attr[o]&&(l[e.id].li_attr[o]=null,d&&d.removeAttr(o)));if(n[s]&&n[s].a_attr!==D&&"object"==typeof n[s].a_attr)for(o in n[s].a_attr)n[s].a_attr.hasOwnProperty(o)&&"id"!==o&&("class"===o?(l[e.id].a_attr.class=(l[e.id].a_attr.class||"").replace(n[s].a_attr[o],""),c&&c.removeClass(n[s].a_attr[o])):l[e.id].a_attr[o]===n[s].a_attr[o]&&("href"===o?(l[e.id].a_attr[o]="#",c&&c.attr("href","#")):(delete l[e.id].a_attr[o],c&&c.removeAttr(o))));if(n[t].li_attr!==D&&"object"==typeof n[t].li_attr)for(o in n[t].li_attr)n[t].li_attr.hasOwnProperty(o)&&"id"!==o&&(l[e.id].li_attr[o]===D?(l[e.id].li_attr[o]=n[t].li_attr[o],d&&("class"===o?d.addClass(n[t].li_attr[o]):d.attr(o,n[t].li_attr[o]))):"class"===o&&(l[e.id].li_attr.class=n[t].li_attr[o]+" "+l[e.id].li_attr.class,d&&d.addClass(n[t].li_attr[o])));if(n[t].a_attr!==D&&"object"==typeof n[t].a_attr)for(o in n[t].a_attr)n[t].a_attr.hasOwnProperty(o)&&"id"!==o&&(l[e.id].a_attr[o]===D?(l[e.id].a_attr[o]=n[t].a_attr[o],c&&("class"===o?c.addClass(n[t].a_attr[o]):c.attr(o,n[t].a_attr[o]))):"href"===o&&"#"===l[e.id].a_attr[o]?(l[e.id].a_attr.href=n[t].a_attr.href,c&&c.attr("href",n[t].a_attr.href)):"class"===o&&(l[e.id].a_attr.class=n[t].a_attr.class+" "+l[e.id].a_attr.class,c&&c.addClass(n[t].a_attr[o])));return!0}},O.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},O.jstree.plugins.unique=function(e,g){this.check=function(e,t,n,r,i){if(!1===g.check.call(this,e,t,n,r,i))return!1;if(t=t&&t.id?t:this.get_node(t),!(n=n&&n.id?n:this.get_node(n))||!n.children)return!0;for(var s,a="rename_node"===e?r:t.text,o=[],d=this.settings.unique.case_sensitive,c=this.settings.unique.trim_whitespace,l=this._model.data,h=0,u=n.children.length;h<u;h++)s=l[n.children[h]].text,d||(s=s.toLowerCase()),c&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),o.push(s);switch(d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),e){case"delete_node":return!0;case"rename_node":return s=t.text||"",d||(s=s.toLowerCase()),c&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(h=-1===O.inArray(a,o)||t.text&&s===a)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h;case"create_node":return(h=-1===O.inArray(a,o))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h;case"copy_node":return(h=-1===O.inArray(a,o))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h;case"move_node":return(h=t.parent===n.id&&(!i||!i.is_multi)||-1===O.inArray(a,o))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h}return!0},this.create_node=function(e,t,n,r,i){if(!t||t.text===D){if(null===e&&(e=O.jstree.root),!(e=this.get_node(e)))return g.create_node.call(this,e,t,n,r,i);if(!(n=n===D?"last":n).toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(e))return g.create_node.call(this,e,t,n,r,i);t=t||{};for(var s,a,o=this._model.data,d=this.settings.unique.case_sensitive,c=this.settings.unique.trim_whitespace,l=this.settings.unique.duplicate,h=s=this.get_string("New node"),u=[],f=0,p=e.children.length;f<p;f++)a=o[e.children[f]].text,d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),u.push(a);for(f=1,a=h,d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==O.inArray(a,u);)a=h=l.call(this,s,++f).toString(),d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));t.text=h}return g.create_node.call(this,e,t,n,r,i)}};var v=x.createElement("DIV");if(v.setAttribute("unselectable","on"),v.setAttribute("role","presentation"),v.className="jstree-wholerow",v.innerHTML="&#160;",O.jstree.plugins.wholerow=function(e,s){this.bind=function(){s.bind.call(this),this.element.on("ready.jstree set_state.jstree",O.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",O.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",O.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",O.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var n=!1,r=0,i=t.selected.length;r<i;r++)(n=this.get_node(t.selected[r],!0))&&n.length&&n.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",O.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",O.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",O.proxy(function(e){var t;this._data.contextmenu&&(e.preventDefault(),t=O.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY}),O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t))},this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=O.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()}).on("dblclick.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=O.Event("dblclick",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",O.proxy(function(e){e.stopImmediatePropagation();var t=O.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",O.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",O.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),s.teardown.call(this)},this.redraw_node=function(e,t,n,r){var i;return(e=s.redraw_node.apply(this,arguments))&&(i=v.cloneNode(!0),-1!==O.inArray(e.id,this._data.core.selected)&&(i.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===e.id&&(i.className+=" jstree-wholerow-hovered"),e.insertBefore(i,e.childNodes[0])),e}},window.customElements&&Object&&Object.create){var t=Object.create(HTMLElement.prototype);t.createdCallback=function(){var e,t={core:{},plugins:[]};for(e in O.jstree.plugins)O.jstree.plugins.hasOwnProperty(e)&&this.attributes[e]&&(t.plugins.push(e),this.getAttribute(e)&&JSON.parse(this.getAttribute(e))&&(t[e]=JSON.parse(this.getAttribute(e))));for(e in O.jstree.defaults.core)O.jstree.defaults.core.hasOwnProperty(e)&&this.attributes[e]&&(t.core[e]=JSON.parse(this.getAttribute(e))||this.getAttribute(e));O(this).jstree(t)};try{window.customElements.define("vakata-jstree",function(){},{prototype:t})}catch(e){}}}}),e=function(i){"use strict";i.preload=function(t){var e=i.extend({},{bodyHideClass:"preload-hide",bodyActiveClass:"preload-active"},i.preload.defaults),n=[{event:"show",action:function(){i("body").removeClass(e.bodyHideClass),i("body").addClass(e.bodyActiveClass)}},{event:"hide",action:function(){i("body").addClass(e.bodyHideClass),i("body").removeClass(e.bodyActiveClass)}}];var r=i(this);return"string"==typeof t&&n.forEach(function(e){t==e.event&&e.action(r)}),this},setTimeout(function(){i.preload("hide")},6e3),i(function(){i.preload("hide")})},"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery);